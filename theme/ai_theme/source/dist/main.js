(()=>{var e={1803:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AzureKeyCredential:()=>i,PiiEntityDomain:()=>Wi,TextAnalyticsClient:()=>mo});var r={};n.r(r),n.d(r,{AnalysisInput:()=>oe,AnalyzeBatchInput:()=>bt,AnalyzeJobDisplayName:()=>Ee,AnalyzeJobErrorsAndStatistics:()=>nt,AnalyzeJobMetadata:()=>vt,AnalyzeJobState:()=>Ot,DetectLanguageInput:()=>ft,DetectedLanguage:()=>gt,DocumentEntities:()=>Re,DocumentError:()=>ke,DocumentHealthcareEntities:()=>st,DocumentKeyPhrases:()=>Fe,DocumentLanguage:()=>yt,DocumentLinkedEntities:()=>He,DocumentSentiment:()=>Ge,EntitiesResult:()=>Ce,EntitiesTask:()=>ue,EntitiesTaskParameters:()=>pe,EntitiesTaskResult:()=>xe,Entity:()=>je,EntityLinkingResult:()=>$e,EntityLinkingTask:()=>ye,EntityLinkingTaskParameters:()=>ge,EntityLinkingTaskResult:()=>Be,ErrorResponse:()=>Se,GeneratedClientAnalyzeHeaders:()=>xt,GeneratedClientCancelHealthJobHeaders:()=>Ct,GeneratedClientHealthHeaders:()=>Rt,HealthcareAssertion:()=>lt,HealthcareEntity:()=>Nt,HealthcareEntityLink:()=>ut,HealthcareEntityProperties:()=>at,HealthcareJobState:()=>St,HealthcareLinkingProperties:()=>ct,HealthcareRelation:()=>pt,HealthcareRelationEntity:()=>dt,HealthcareResult:()=>ot,HealthcareTaskResult:()=>it,InnerError:()=>we,JobDescriptor:()=>ie,JobManifest:()=>ce,JobManifestTasks:()=>le,JobMetadata:()=>Pe,KeyPhraseResult:()=>Ue,KeyPhraseTaskResult:()=>Le,KeyPhrasesTask:()=>fe,KeyPhrasesTaskParameters:()=>he,LanguageBatchInput:()=>mt,LanguageResult:()=>ht,LinkedEntity:()=>Ve,Match:()=>We,MultiLanguageBatchInput:()=>se,Pagination:()=>rt,PiiDocumentEntities:()=>De,PiiResult:()=>Me,PiiTask:()=>de,PiiTaskParameters:()=>me,PiiTaskResult:()=>Ie,SentenceAssessment:()=>tt,SentenceSentiment:()=>Ye,SentenceTarget:()=>Qe,SentimentAnalysisTask:()=>be,SentimentAnalysisTaskParameters:()=>ve,SentimentConfidenceScores:()=>Xe,SentimentResponse:()=>Ke,SentimentTaskResult:()=>Je,TargetConfidenceScoreLabel:()=>Ze,TargetRelation:()=>et,TaskState:()=>Ne,TasksState:()=>Te,TasksStateTasks:()=>Ae,TasksStateTasksEntityLinkingTasksItem:()=>Tt,TasksStateTasksEntityRecognitionPiiTasksItem:()=>Pt,TasksStateTasksEntityRecognitionTasksItem:()=>wt,TasksStateTasksKeyPhraseExtractionTasksItem:()=>Et,TasksStateTasksSentimentAnalysisTasksItem:()=>At,TextAnalyticsError:()=>Oe,TextAnalyticsWarning:()=>_e,TextDocumentBatchStatistics:()=>qe,TextDocumentInput:()=>ae,TextDocumentStatistics:()=>ze}),n(445);class i{constructor(e){if(!e)throw new Error("key must be a non-empty string");this._key=e}get key(){return this._key}update(e){this._key=e}}function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e){return this instanceof s?(this.v=e,this):new s(e)}function a(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{(n=i[e](t)).value instanceof s?Promise.resolve(n.value.v).then(l,u):p(o[0][2],n)}catch(e){p(o[0][3],e)}var n}function l(e){c("next",e)}function u(e){c("throw",e)}function p(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}}function c(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:s(e[r](t)),done:!1}:i?i(t):t}:i}}function l(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create,Object.create;class u extends Error{constructor(e){super(e),this.name="AbortError"}}const p="The operation was aborted.";function d(e,t,n){return new Promise(((r,i)=>{let o,s;const a=()=>i(new u((null==n?void 0:n.abortErrorMsg)?null==n?void 0:n.abortErrorMsg:p)),c=()=>{(null==n?void 0:n.abortSignal)&&s&&n.abortSignal.removeEventListener("abort",s)};if(s=()=>(o&&clearTimeout(o),c(),a()),(null==n?void 0:n.abortSignal)&&n.abortSignal.aborted)return a();o=setTimeout((()=>{c(),r(t)}),e),(null==n?void 0:n.abortSignal)&&n.abortSignal.addEventListener("abort",s)}))}function m(e,t){const n=e.headers.get(t);if(!n)return;const r=Number(n);return Number.isNaN(r)?void 0:r}const f={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4};const h="undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0;let y,g=[],b=[];const v=[];h&&O(h);const S=Object.assign((e=>P(e)),{enable:O,enabled:w,disable:function(){const e=y||"";return O(""),e},log:function(...e){if(e.length>0){const t=String(e[0]);t.includes(":error")?console.error(...e):t.includes(":warning")?console.warn(...e):t.includes(":info")?console.info(...e):(t.includes(":verbose"),console.debug(...e))}}});function O(e){y=e,g=[],b=[];const t=/\*/g,n=e.split(",").map((e=>e.trim().replace(t,".*?")));for(const e of n)e.startsWith("-")?b.push(new RegExp(`^${e.substr(1)}$`)):g.push(new RegExp(`^${e}$`));for(const e of v)e.enabled=w(e.namespace)}function w(e){if(e.endsWith("*"))return!0;for(const t of b)if(t.test(e))return!1;for(const t of g)if(t.test(e))return!0;return!1}function P(e){const t=Object.assign((function(...n){t.enabled&&(n.length>0&&(n[0]=`${e} ${n[0]}`),t.log(...n))}),{enabled:w(e),destroy:E,log:S.log,namespace:e,extend:T});return v.push(t),t}function E(){const e=v.indexOf(this);return e>=0&&(v.splice(e,1),!0)}function T(e){const t=P(`${this.namespace}:${e}`);return t.log=this.log,t}const A=S,N=new Set,x="undefined"!=typeof process&&process.env&&process.env.AZURE_LOG_LEVEL||void 0;let C;const R=A("azure");R.log=(...e)=>{A.log(...e)};const j=["verbose","info","warning","error"];x&&(M(x)?function(e){if(e&&!M(e))throw new Error(`Unknown log level '${e}'. Acceptable values: ${j.join(",")}`);C=e;const t=[];for(const e of N)I(e)&&t.push(e.namespace);A.enable(t.join(","))}(x):console.error(`AZURE_LOG_LEVEL set to unknown log level '${x}'; logging is not enabled. Acceptable values: ${j.join(", ")}.`));const _={verbose:400,info:300,warning:200,error:100};function z(e){const t=R.extend(e);return k(R,t),{error:q(t,"error"),warning:q(t,"warning"),info:q(t,"info"),verbose:q(t,"verbose")}}function k(e,t){t.log=(...t)=>{e.log(...t)}}function q(e,t){const n=Object.assign(e.extend(t),{level:t});if(k(e,n),I(n)){const e=A.disable();A.enable(e+","+n.namespace)}return N.add(n),n}function I(e){return Boolean(C&&_[e.level]<=_[C])}function M(e){return j.includes(e)}const D=z("core-rest-pipeline");async function L(e){const{scopes:t,getAccessToken:n,request:r}=e,i={abortSignal:r.abortSignal,tracingOptions:r.tracingOptions},o=await n(t,i);o&&e.request.headers.set("Authorization",`Bearer ${o.token}`)}function U(e){var t;const{credential:n,scopes:r,challengeCallbacks:i}=e,o=e.logger||D,s=Object.assign({authorizeRequest:null!==(t=null==i?void 0:i.authorizeRequest)&&void 0!==t?t:L,authorizeRequestOnChallenge:null==i?void 0:i.authorizeRequestOnChallenge},i),a=n?function(e,t){let n,r=null,i=null;const o=Object.assign(Object.assign({},f),t),s={get isRefreshing(){return null!==r},get shouldRefresh(){var e;return!s.isRefreshing&&(null!==(e=null==i?void 0:i.expiresOnTimestamp)&&void 0!==e?e:0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return null===i||i.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(t,a){var c;return s.isRefreshing||(r=async function(e,t,n){async function r(){if(!(Date.now()<n)){const t=await e();if(null===t)throw new Error("Failed to refresh access token.");return t}try{return await e()}catch(e){return null}}let i=await r();for(;null===i;)await d(t),i=await r();return i}((()=>e.getToken(t,a)),o.retryIntervalInMs,null!==(c=null==i?void 0:i.expiresOnTimestamp)&&void 0!==c?c:Date.now()).then((e=>(r=null,i=e,n=a.tenantId,i))).catch((e=>{throw r=null,i=null,n=void 0,e}))),r}return async(e,t)=>n!==t.tenantId||Boolean(t.claims)||s.mustRefresh?a(e,t):(s.shouldRefresh&&a(e,t),i)}(n):()=>Promise.resolve(null);return{name:"bearerTokenAuthenticationPolicy",async sendRequest(e,t){if(!e.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");let n,i;await s.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:e,getAccessToken:a,logger:o});try{n=await t(e)}catch(e){i=e,n=e.response}if(s.authorizeRequestOnChallenge&&401===(null==n?void 0:n.status)&&function(e){const t=e.headers.get("WWW-Authenticate");if(401===e.status&&t)return t}(n)&&await s.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:e,response:n,getAccessToken:a,logger:o}))return t(e);if(i)throw i;return n}}}function F(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function B(e){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}const $="$",H="_",V=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,W=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function J(e,t){var n,r;const i=e.parsedHeaders;if("HEAD"===e.request.method)return Object.assign(Object.assign({},i),{body:e.parsedBody});const o=t&&t.bodyMapper,s=Boolean(null==o?void 0:o.nullable),a=null==o?void 0:o.type.name;if("Stream"===a)return Object.assign(Object.assign({},i),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody});const c="Composite"===a&&o.type.modelProperties||{},l=Object.keys(c).some((e=>""===c[e].serializedName));if("Sequence"===a||l){const t=null!==(n=e.parsedBody)&&void 0!==n?n:[];for(const n of Object.keys(c))c[n].serializedName&&(t[n]=null===(r=e.parsedBody)||void 0===r?void 0:r[n]);if(i)for(const e of Object.keys(i))t[e]=i[e];return!s||e.parsedBody||i||0!==Object.getOwnPropertyNames(c).length?t:null}return function(e){const t=Object.assign(Object.assign({},e.headers),e.body);return e.hasNullableType&&0===Object.getOwnPropertyNames(t).length?e.shouldWrapBody?{body:null}:null:e.shouldWrapBody?Object.assign(Object.assign({},e.headers),{body:e.body}):t}({body:e.parsedBody,headers:i,hasNullableType:s,shouldWrapBody:(u=e.parsedBody,p=a,"Composite"!==p&&"Dictionary"!==p&&("string"==typeof u||"number"==typeof u||"boolean"==typeof u||null!==(null==p?void 0:p.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i))||null==u))});var u,p}class K{constructor(e={},t=!1){this.modelMappers=e,this.isXML=t}validateConstraints(e,t,n){const r=(e,r)=>{throw new Error(`"${n}" with value "${t}" should satisfy the constraint "${e}": ${r}.`)};if(e.constraints&&null!=t){const{ExclusiveMaximum:n,ExclusiveMinimum:i,InclusiveMaximum:o,InclusiveMinimum:s,MaxItems:a,MaxLength:c,MinItems:l,MinLength:u,MultipleOf:p,Pattern:d,UniqueItems:m}=e.constraints;if(void 0!==n&&t>=n&&r("ExclusiveMaximum",n),void 0!==i&&t<=i&&r("ExclusiveMinimum",i),void 0!==o&&t>o&&r("InclusiveMaximum",o),void 0!==s&&t<s&&r("InclusiveMinimum",s),void 0!==a&&t.length>a&&r("MaxItems",a),void 0!==c&&t.length>c&&r("MaxLength",c),void 0!==l&&t.length<l&&r("MinItems",l),void 0!==u&&t.length<u&&r("MinLength",u),void 0!==p&&t%p!=0&&r("MultipleOf",p),d){const e="string"==typeof d?new RegExp(d):d;"string"==typeof t&&null!==t.match(e)||r("Pattern",d)}m&&t.some(((e,t,n)=>n.indexOf(e)!==t))&&r("UniqueItems",m)}}serialize(e,t,n,r={xml:{}}){var i,o,s;const a={xml:{rootName:null!==(i=r.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(o=r.xml.includeRoot)&&void 0!==o&&o,xmlCharKey:null!==(s=r.xml.xmlCharKey)&&void 0!==s?s:H}};let c={};const l=e.type.name;n||(n=e.serializedName),null!==l.match(/^Sequence$/i)&&(c=[]),e.isConstant&&(t=e.defaultValue);const{required:u,nullable:p}=e;if(u&&p&&void 0===t)throw new Error(`${n} cannot be undefined.`);if(u&&!p&&null==t)throw new Error(`${n} cannot be null or undefined.`);if(!u&&!1===p&&null===t)throw new Error(`${n} cannot be null.`);return null==t||null!==l.match(/^any$/i)?c=t:null!==l.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)?c=function(e,t,n){if(null!=n)if(null!==e.match(/^Number$/i)){if("number"!=typeof n)throw new Error(`${t} with value ${n} must be of type number.`)}else if(null!==e.match(/^String$/i)){if("string"!=typeof n.valueOf())throw new Error(`${t} with value "${n}" must be of type string.`)}else if(null!==e.match(/^Uuid$/i)){if("string"!=typeof n.valueOf()||(r=n,!W.test(r)))throw new Error(`${t} with value "${n}" must be of type string and a valid uuid.`)}else if(null!==e.match(/^Boolean$/i)){if("boolean"!=typeof n)throw new Error(`${t} with value ${n} must be of type boolean.`)}else if(null!==e.match(/^Stream$/i)){const e=typeof n;if(!("string"===e||"function"==typeof n.pipe||n instanceof ArrayBuffer||ArrayBuffer.isView(n)||("function"==typeof Blob||"object"==typeof Blob)&&n instanceof Blob||"function"===e))throw new Error(`${t} must be a string, Blob, ArrayBuffer, ArrayBufferView, NodeJS.ReadableStream, or () => NodeJS.ReadableStream.`)}var r;return n}(l,n,t):null!==l.match(/^Enum$/i)?c=function(e,t,n){if(!t)throw new Error(`Please provide a set of allowedValues to validate ${e} as an Enum Type.`);if(!t.some((e=>"string"==typeof e.valueOf()?e.toLowerCase()===n.toLowerCase():e===n)))throw new Error(`${n} is not a valid value for ${e}. The valid values are: ${JSON.stringify(t)}.`);return n}(n,e.type.allowedValues,t):null!==l.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)?c=function(e,t,n){if(null!=t)if(null!==e.match(/^Date$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(`${n} must be an instanceof Date or a string in ISO8601 format.`);t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(`${n} must be an instanceof Date or a string in ISO8601 format.`);t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(`${n} must be an instanceof Date or a string in RFC-1123 format.`);t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(`${n} must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.`);t=function(e){if(e)return"string"==typeof e.valueOf()&&(e=new Date(e)),Math.floor(e.getTime()/1e3)}(t)}else if(null!==e.match(/^TimeSpan$/i)&&!function(e){return V.test(e)}(t))throw new Error(`${n} must be a string in ISO 8601 format. Instead was "${t}".`);return t}(l,t,n):null!==l.match(/^ByteArray$/i)?c=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(`${e} must be of type Uint8Array.`);t=F(t)}return t}(n,t):null!==l.match(/^Base64Url$/i)?c=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(`${e} must be of type Uint8Array.`);t=function(e){if(e){if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return function(e,t){let n=e.length;for(;n-1>=0&&"="===e[n-1];)--n;return e.substr(0,n)}(F(e)).replace(/\+/g,"-").replace(/\//g,"_")}}(t)}return t}(n,t):null!==l.match(/^Sequence$/i)?c=function(e,t,n,r,i,o){var s;if(!Array.isArray(n))throw new Error(`${r} must be of type Array.`);let a=t.type.element;if(!a||"object"!=typeof a)throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${r}.`);"Composite"===a.type.name&&a.type.className&&(a=null!==(s=e.modelMappers[a.type.className])&&void 0!==s?s:a);const c=[];for(let t=0;t<n.length;t++){const s=e.serialize(a,n[t],r,o);if(i&&a.xmlNamespace){const e=a.xmlNamespacePrefix?`xmlns:${a.xmlNamespacePrefix}`:"xmlns";"Composite"===a.type.name?(c[t]=Object.assign({},s),c[t][$]={[e]:a.xmlNamespace}):(c[t]={},c[t][o.xml.xmlCharKey]=s,c[t][$]={[e]:a.xmlNamespace})}else c[t]=s}return c}(this,e,t,n,Boolean(this.isXML),a):null!==l.match(/^Dictionary$/i)?c=function(e,t,n,r,i,o){if("object"!=typeof n)throw new Error(`${r} must be of type object.`);const s=t.type.value;if(!s||"object"!=typeof s)throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${r}.`);const a={};for(const t of Object.keys(n)){const c=e.serialize(s,n[t],r,o);a[t]=Q(s,c,i,o)}if(i&&t.xmlNamespace){const e=t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns",n=a;return n[$]={[e]:t.xmlNamespace},n}return a}(this,e,t,n,Boolean(this.isXML),a):null!==l.match(/^Composite$/i)&&(c=function(e,t,n,r,i,o){if(te(e,t)&&(t=ee(e,t,n,"clientName")),null!=n){const s={},a=Y(e,t,r);for(const c of Object.keys(a)){const l=a[c];if(l.readOnly)continue;let u,p=s;if(e.isXML)u=l.xmlIsWrapped?l.xmlName:l.xmlElementName||l.xmlName;else{const e=G(l.serializedName);u=e.pop();for(const t of e){null==p[t]&&(void 0!==n[c]&&null!==n[c]||void 0!==l.defaultValue)&&(p[t]={}),p=p[t]}}if(null!=p){if(i&&t.xmlNamespace){const e=t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns";p[$]=Object.assign(Object.assign({},p[$]),{[e]:t.xmlNamespace})}const s=""!==l.serializedName?r+"."+l.serializedName:r;let a=n[c];const d=te(e,t);d&&d.clientName===c&&null==a&&(a=t.serializedName);const m=e.serialize(l,a,s,o);if(void 0!==m&&null!=u){const e=Q(l,m,i,o);i&&l.xmlIsAttribute?(p[$]=p[$]||{},p[$][u]=m):i&&l.xmlIsWrapped?p[u]={[l.xmlElementName]:e}:p[u]=e}}}const c=function(e,t,n){const r=t.type.additionalProperties;if(!r&&t.type.className){const r=X(e,t,n);return null==r?void 0:r.type.additionalProperties}return r}(e,t,r);if(c){const t=Object.keys(a);for(const i in n)t.every((e=>e!==i))&&(s[i]=e.serialize(c,n[i],r+'["'+i+'"]',o))}return s}return n}(this,e,t,n,Boolean(this.isXML),a)),c}deserialize(e,t,n,r={xml:{}}){var i,o,s,a;const c={xml:{rootName:null!==(i=r.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(o=r.xml.includeRoot)&&void 0!==o&&o,xmlCharKey:null!==(s=r.xml.xmlCharKey)&&void 0!==s?s:H},ignoreUnknownProperties:null!==(a=r.ignoreUnknownProperties)&&void 0!==a&&a};if(null==t)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(t=[]),void 0!==e.defaultValue&&(t=e.defaultValue),t;let l;const u=e.type.name;if(n||(n=e.serializedName),null!==u.match(/^Composite$/i))l=function(e,t,n,r,i){var o,s;const a=null!==(o=i.xml.xmlCharKey)&&void 0!==o?o:H;te(e,t)&&(t=ee(e,t,n,"serializedName"));const c=Y(e,t,r);let l={};const u=[];for(const o of Object.keys(c)){const p=c[o],d=G(c[o].serializedName);u.push(d[0]);const{serializedName:m,xmlName:f,xmlElementName:h}=p;let y=r;""!==m&&void 0!==m&&(y=r+"."+m);const g=p.headerCollectionPrefix;if(g){const t={};for(const r of Object.keys(n))r.startsWith(g)&&(t[r.substring(g.length)]=e.deserialize(p.type.value,n[r],y,i)),u.push(r);l[o]=t}else if(e.isXML)if(p.xmlIsAttribute&&n[$])l[o]=e.deserialize(p,n[$][f],y,i);else if(p.xmlIsMsText)void 0!==n[a]?l[o]=n[a]:"string"==typeof n&&(l[o]=n);else{const t=h||f||m;if(p.xmlIsWrapped){const t=n[f],r=null!==(s=null==t?void 0:t[h])&&void 0!==s?s:[];l[o]=e.deserialize(p,r,y,i),u.push(f)}else{const r=n[t];l[o]=e.deserialize(p,r,y,i),u.push(t)}}else{let r,s=n,a=0;for(const e of d){if(!s)break;a++,s=s[e]}null===s&&a<d.length&&(s=void 0),r=s;const u=t.type.polymorphicDiscriminator;let m;if(u&&o===u.clientName&&null==r&&(r=t.serializedName),Array.isArray(n[o])&&""===c[o].serializedName){r=n[o];const t=e.deserialize(p,r,y,i);for(const[e,n]of Object.entries(l))Object.prototype.hasOwnProperty.call(t,e)||(t[e]=n);l=t}else void 0===r&&void 0===p.defaultValue||(m=e.deserialize(p,r,y,i),l[o]=m)}}const p=t.type.additionalProperties;if(p){const t=e=>{for(const t in c)if(G(c[t].serializedName)[0]===e)return!1;return!0};for(const o in n)t(o)&&(l[o]=e.deserialize(p,n[o],r+'["'+o+'"]',i))}else if(n&&!i.ignoreUnknownProperties)for(const e of Object.keys(n))void 0!==l[e]||u.includes(e)||Z(e,i)||(l[e]=n[e]);return l}(this,e,t,n,c);else{if(this.isXML){const e=c.xml.xmlCharKey;void 0!==t[$]&&void 0!==t[e]&&(t=t[e])}null!==u.match(/^Number$/i)?(l=parseFloat(t),isNaN(l)&&(l=t)):null!==u.match(/^Boolean$/i)?l="true"===t||"false"!==t&&t:null!==u.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)?l=t:null!==u.match(/^(Date|DateTime|DateTimeRfc1123)$/i)?l=new Date(t):null!==u.match(/^UnixTime$/i)?l=function(e){if(e)return new Date(1e3*e)}(t):null!==u.match(/^ByteArray$/i)?l=B(t):null!==u.match(/^Base64Url$/i)?l=function(e){if(e){if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return B(e=e.replace(/-/g,"+").replace(/_/g,"/"))}}(t):null!==u.match(/^Sequence$/i)?l=function(e,t,n,r,i){var o;let s=t.type.element;if(!s||"object"!=typeof s)throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${r}`);if(n){Array.isArray(n)||(n=[n]),"Composite"===s.type.name&&s.type.className&&(s=null!==(o=e.modelMappers[s.type.className])&&void 0!==o?o:s);const t=[];for(let o=0;o<n.length;o++)t[o]=e.deserialize(s,n[o],`${r}[${o}]`,i);return t}return n}(this,e,t,n,c):null!==u.match(/^Dictionary$/i)&&(l=function(e,t,n,r,i){const o=t.type.value;if(!o||"object"!=typeof o)throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${r}`);if(n){const t={};for(const s of Object.keys(n))t[s]=e.deserialize(o,n[s],r,i);return t}return n}(this,e,t,n,c))}return e.isConstant&&(l=e.defaultValue),l}}function G(e){const t=[];let n="";if(e){const r=e.split(".");for(const e of r)"\\"===e.charAt(e.length-1)?n+=e.substr(0,e.length-1)+".":(n+=e,t.push(n),n="")}return t}function X(e,t,n){const r=t.type.className;if(!r)throw new Error(`Class name for model "${n}" is not provided in the mapper "${JSON.stringify(t,void 0,2)}".`);return e.modelMappers[r]}function Y(e,t,n){let r=t.type.modelProperties;if(!r){const i=X(e,t,n);if(!i)throw new Error(`mapper() cannot be null or undefined for model "${t.type.className}".`);if(r=null==i?void 0:i.type.modelProperties,!r)throw new Error(`modelProperties cannot be null or undefined in the mapper "${JSON.stringify(i)}" of type "${t.type.className}" for object "${n}".`)}return r}function Q(e,t,n,r){if(!n||!e.xmlNamespace)return t;const i={[e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns"]:e.xmlNamespace};if(["Composite"].includes(e.type.name)){if(t[$])return t;{const e=Object.assign({},t);return e[$]=i,e}}const o={};return o[r.xml.xmlCharKey]=t,o[$]=i,o}function Z(e,t){return[$,t.xml.xmlCharKey].includes(e)}function ee(e,t,n,r){var i;const o=te(e,t);if(o){let s=o[r];if(s){"serializedName"===r&&(s=s.replace(/\\/gi,""));const o=n[s],a=null!==(i=t.type.uberParent)&&void 0!==i?i:t.type.className;if("string"==typeof o&&a){const n=function(e,t,n){const r=[n];for(;r.length;){const n=r.shift(),i=t===n?t:n+"."+t;if(Object.prototype.hasOwnProperty.call(e,i))return e[i];for(const[t,i]of Object.entries(e))t.startsWith(n+".")&&i.type.uberParent===n&&i.type.className&&r.push(i.type.className)}}(e.modelMappers.discriminators,o,a);n&&(t=n)}}}return t}function te(e,t){return t.type.polymorphicDiscriminator||ne(e,t.type.uberParent)||ne(e,t.type.className)}function ne(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}const re={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"},ie={type:{name:"Composite",className:"JobDescriptor",modelProperties:{displayName:{serializedName:"displayName",type:{name:"String"}}}}},oe={type:{name:"Composite",className:"AnalysisInput",modelProperties:{analysisInput:{serializedName:"analysisInput",type:{name:"Composite",className:"MultiLanguageBatchInput"}}}}},se={type:{name:"Composite",className:"MultiLanguageBatchInput",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextDocumentInput"}}}}}}},ae={type:{name:"Composite",className:"TextDocumentInput",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},text:{serializedName:"text",required:!0,type:{name:"String"}},language:{serializedName:"language",type:{name:"String"}}}}},ce={type:{name:"Composite",className:"JobManifest",modelProperties:{tasks:{serializedName:"tasks",type:{name:"Composite",className:"JobManifestTasks"}}}}},le={type:{name:"Composite",className:"JobManifestTasks",modelProperties:{entityRecognitionTasks:{serializedName:"entityRecognitionTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"EntitiesTask"}}}},entityRecognitionPiiTasks:{serializedName:"entityRecognitionPiiTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"PiiTask"}}}},keyPhraseExtractionTasks:{serializedName:"keyPhraseExtractionTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"KeyPhrasesTask"}}}},entityLinkingTasks:{serializedName:"entityLinkingTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"EntityLinkingTask"}}}},sentimentAnalysisTasks:{serializedName:"sentimentAnalysisTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"SentimentAnalysisTask"}}}}}}},ue={type:{name:"Composite",className:"EntitiesTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"EntitiesTaskParameters"}}}}},pe={type:{name:"Composite",className:"EntitiesTaskParameters",modelProperties:{modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{serializedName:"loggingOptOut",type:{name:"Boolean"}},stringIndexType:{serializedName:"stringIndexType",type:{name:"String"}}}}},de={type:{name:"Composite",className:"PiiTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"PiiTaskParameters"}}}}},me={type:{name:"Composite",className:"PiiTaskParameters",modelProperties:{domain:{defaultValue:"none",serializedName:"domain",type:{name:"String"}},modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{defaultValue:!0,serializedName:"loggingOptOut",type:{name:"Boolean"}},piiCategories:{constraints:{UniqueItems:!0},serializedName:"piiCategories",type:{name:"Sequence",element:{type:{name:"String"}}}},stringIndexType:{serializedName:"stringIndexType",type:{name:"String"}}}}},fe={type:{name:"Composite",className:"KeyPhrasesTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"KeyPhrasesTaskParameters"}}}}},he={type:{name:"Composite",className:"KeyPhrasesTaskParameters",modelProperties:{modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{serializedName:"loggingOptOut",type:{name:"Boolean"}}}}},ye={type:{name:"Composite",className:"EntityLinkingTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"EntityLinkingTaskParameters"}}}}},ge={type:{name:"Composite",className:"EntityLinkingTaskParameters",modelProperties:{modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{serializedName:"loggingOptOut",type:{name:"Boolean"}},stringIndexType:{serializedName:"stringIndexType",type:{name:"String"}}}}},be={type:{name:"Composite",className:"SentimentAnalysisTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"SentimentAnalysisTaskParameters"}}}}},ve={type:{name:"Composite",className:"SentimentAnalysisTaskParameters",modelProperties:{modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{serializedName:"loggingOptOut",type:{name:"Boolean"}},opinionMining:{serializedName:"opinionMining",type:{name:"Boolean"}},stringIndexType:{serializedName:"stringIndexType",type:{name:"String"}}}}},Se={type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"TextAnalyticsError"}}}}},Oe={type:{name:"Composite",className:"TextAnalyticsError",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},target:{serializedName:"target",type:{name:"String"}},innererror:{serializedName:"innererror",type:{name:"Composite",className:"InnerError"}},details:{serializedName:"details",type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsError"}}}}}}},we={type:{name:"Composite",className:"InnerError",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},details:{serializedName:"details",type:{name:"Dictionary",value:{type:{name:"String"}}}},target:{serializedName:"target",type:{name:"String"}},innererror:{serializedName:"innererror",type:{name:"Composite",className:"InnerError"}}}}},Pe={type:{name:"Composite",className:"JobMetadata",modelProperties:{createdDateTime:{serializedName:"createdDateTime",required:!0,type:{name:"DateTime"}},expirationDateTime:{serializedName:"expirationDateTime",type:{name:"DateTime"}},jobId:{serializedName:"jobId",required:!0,type:{name:"Uuid"}},lastUpdateDateTime:{serializedName:"lastUpdateDateTime",required:!0,type:{name:"DateTime"}},status:{serializedName:"status",required:!0,type:{name:"Enum",allowedValues:["notStarted","running","succeeded","failed","rejected","cancelled","cancelling"]}}}}},Ee={type:{name:"Composite",className:"AnalyzeJobDisplayName",modelProperties:{displayName:{serializedName:"displayName",type:{name:"String"}}}}},Te={type:{name:"Composite",className:"TasksState",modelProperties:{tasks:{serializedName:"tasks",type:{name:"Composite",className:"TasksStateTasks"}}}}},Ae={type:{name:"Composite",className:"TasksStateTasks",modelProperties:{completed:{serializedName:"completed",required:!0,type:{name:"Number"}},failed:{serializedName:"failed",required:!0,type:{name:"Number"}},inProgress:{serializedName:"inProgress",required:!0,type:{name:"Number"}},total:{serializedName:"total",required:!0,type:{name:"Number"}},entityRecognitionTasks:{serializedName:"entityRecognitionTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksEntityRecognitionTasksItem"}}}},entityRecognitionPiiTasks:{serializedName:"entityRecognitionPiiTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksEntityRecognitionPiiTasksItem"}}}},keyPhraseExtractionTasks:{serializedName:"keyPhraseExtractionTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksKeyPhraseExtractionTasksItem"}}}},entityLinkingTasks:{serializedName:"entityLinkingTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksEntityLinkingTasksItem"}}}},sentimentAnalysisTasks:{serializedName:"sentimentAnalysisTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksSentimentAnalysisTasksItem"}}}}}}},Ne={type:{name:"Composite",className:"TaskState",modelProperties:{lastUpdateDateTime:{serializedName:"lastUpdateDateTime",required:!0,type:{name:"DateTime"}},status:{serializedName:"status",required:!0,type:{name:"Enum",allowedValues:["notStarted","running","succeeded","failed","rejected","cancelled","cancelling"]}}}}},xe={type:{name:"Composite",className:"EntitiesTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"EntitiesResult"}}}}},Ce={type:{name:"Composite",className:"EntitiesResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentEntities"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},Re={type:{name:"Composite",className:"DocumentEntities",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Entity"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},je={type:{name:"Composite",className:"Entity",modelProperties:{text:{serializedName:"text",required:!0,type:{name:"String"}},category:{serializedName:"category",required:!0,type:{name:"String"}},subCategory:{serializedName:"subcategory",type:{name:"String"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},confidenceScore:{serializedName:"confidenceScore",required:!0,type:{name:"Number"}}}}},_e={type:{name:"Composite",className:"TextAnalyticsWarning",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}}}}},ze={type:{name:"Composite",className:"TextDocumentStatistics",modelProperties:{characterCount:{serializedName:"charactersCount",required:!0,type:{name:"Number"}},transactionCount:{serializedName:"transactionsCount",required:!0,type:{name:"Number"}}}}},ke={type:{name:"Composite",className:"DocumentError",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},error:{serializedName:"error",type:{name:"Composite",className:"TextAnalyticsError"}}}}},qe={type:{name:"Composite",className:"TextDocumentBatchStatistics",modelProperties:{documentCount:{serializedName:"documentsCount",required:!0,type:{name:"Number"}},validDocumentCount:{serializedName:"validDocumentsCount",required:!0,type:{name:"Number"}},erroneousDocumentCount:{serializedName:"erroneousDocumentsCount",required:!0,type:{name:"Number"}},transactionCount:{serializedName:"transactionsCount",required:!0,type:{name:"Number"}}}}},Ie={type:{name:"Composite",className:"PiiTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"PiiResult"}}}}},Me={type:{name:"Composite",className:"PiiResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"PiiDocumentEntities"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},De={type:{name:"Composite",className:"PiiDocumentEntities",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},redactedText:{serializedName:"redactedText",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Entity"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},Le={type:{name:"Composite",className:"KeyPhraseTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"KeyPhraseResult"}}}}},Ue={type:{name:"Composite",className:"KeyPhraseResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentKeyPhrases"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},Fe={type:{name:"Composite",className:"DocumentKeyPhrases",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},keyPhrases:{serializedName:"keyPhrases",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},Be={type:{name:"Composite",className:"EntityLinkingTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"EntityLinkingResult"}}}}},$e={type:{name:"Composite",className:"EntityLinkingResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentLinkedEntities"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},He={type:{name:"Composite",className:"DocumentLinkedEntities",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"LinkedEntity"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},Ve={type:{name:"Composite",className:"LinkedEntity",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},matches:{serializedName:"matches",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Match"}}}},language:{serializedName:"language",required:!0,type:{name:"String"}},dataSourceEntityId:{serializedName:"id",type:{name:"String"}},url:{serializedName:"url",required:!0,type:{name:"String"}},dataSource:{serializedName:"dataSource",required:!0,type:{name:"String"}},bingEntitySearchApiId:{serializedName:"bingId",type:{name:"String"}}}}},We={type:{name:"Composite",className:"Match",modelProperties:{confidenceScore:{serializedName:"confidenceScore",required:!0,type:{name:"Number"}},text:{serializedName:"text",required:!0,type:{name:"String"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}}}}},Je={type:{name:"Composite",className:"SentimentTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"SentimentResponse"}}}}},Ke={type:{name:"Composite",className:"SentimentResponse",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSentiment"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},Ge={type:{name:"Composite",className:"DocumentSentiment",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},sentiment:{serializedName:"sentiment",required:!0,type:{name:"Enum",allowedValues:["positive","neutral","negative","mixed"]}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}},confidenceScores:{serializedName:"confidenceScores",type:{name:"Composite",className:"SentimentConfidenceScores"}},sentenceSentiments:{serializedName:"sentences",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"SentenceSentiment"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}}}}},Xe={type:{name:"Composite",className:"SentimentConfidenceScores",modelProperties:{positive:{serializedName:"positive",required:!0,type:{name:"Number"}},neutral:{serializedName:"neutral",required:!0,type:{name:"Number"}},negative:{serializedName:"negative",required:!0,type:{name:"Number"}}}}},Ye={type:{name:"Composite",className:"SentenceSentiment",modelProperties:{text:{serializedName:"text",required:!0,type:{name:"String"}},sentiment:{serializedName:"sentiment",required:!0,type:{name:"Enum",allowedValues:["positive","neutral","negative"]}},confidenceScores:{serializedName:"confidenceScores",type:{name:"Composite",className:"SentimentConfidenceScores"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},targets:{serializedName:"targets",type:{name:"Sequence",element:{type:{name:"Composite",className:"SentenceTarget"}}}},assessments:{serializedName:"assessments",type:{name:"Sequence",element:{type:{name:"Composite",className:"SentenceAssessment"}}}}}}},Qe={type:{name:"Composite",className:"SentenceTarget",modelProperties:{sentiment:{serializedName:"sentiment",required:!0,type:{name:"Enum",allowedValues:["positive","mixed","negative"]}},confidenceScores:{serializedName:"confidenceScores",type:{name:"Composite",className:"TargetConfidenceScoreLabel"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},text:{serializedName:"text",required:!0,type:{name:"String"}},relations:{serializedName:"relations",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TargetRelation"}}}}}}},Ze={type:{name:"Composite",className:"TargetConfidenceScoreLabel",modelProperties:{positive:{serializedName:"positive",required:!0,type:{name:"Number"}},negative:{serializedName:"negative",required:!0,type:{name:"Number"}}}}},et={type:{name:"Composite",className:"TargetRelation",modelProperties:{relationType:{serializedName:"relationType",required:!0,type:{name:"Enum",allowedValues:["assessment","target"]}},ref:{serializedName:"ref",required:!0,type:{name:"String"}}}}},tt={type:{name:"Composite",className:"SentenceAssessment",modelProperties:{sentiment:{serializedName:"sentiment",required:!0,type:{name:"Enum",allowedValues:["positive","mixed","negative"]}},confidenceScores:{serializedName:"confidenceScores",type:{name:"Composite",className:"TargetConfidenceScoreLabel"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},text:{serializedName:"text",required:!0,type:{name:"String"}},isNegated:{serializedName:"isNegated",required:!0,type:{name:"Boolean"}}}}},nt={type:{name:"Composite",className:"AnalyzeJobErrorsAndStatistics",modelProperties:{errors:{serializedName:"errors",type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}}}}},rt={type:{name:"Composite",className:"Pagination",modelProperties:{nextLink:{serializedName:"@nextLink",type:{name:"String"}}}}},it={type:{name:"Composite",className:"HealthcareTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"HealthcareResult"}},errors:{serializedName:"errors",type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsError"}}}}}}},ot={type:{name:"Composite",className:"HealthcareResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentHealthcareEntities"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},st={type:{name:"Composite",className:"DocumentHealthcareEntities",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"HealthcareEntity"}}}},relations:{serializedName:"relations",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"HealthcareRelation"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},at={type:{name:"Composite",className:"HealthcareEntityProperties",modelProperties:{text:{serializedName:"text",required:!0,type:{name:"String"}},category:{serializedName:"category",required:!0,type:{name:"String"}},subcategory:{serializedName:"subcategory",type:{name:"String"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},confidenceScore:{serializedName:"confidenceScore",required:!0,type:{name:"Number"}}}}},ct={type:{name:"Composite",className:"HealthcareLinkingProperties",modelProperties:{assertion:{serializedName:"assertion",type:{name:"Composite",className:"HealthcareAssertion"}},name:{serializedName:"name",type:{name:"String"}},links:{serializedName:"links",type:{name:"Sequence",element:{type:{name:"Composite",className:"HealthcareEntityLink"}}}}}}},lt={type:{name:"Composite",className:"HealthcareAssertion",modelProperties:{conditionality:{serializedName:"conditionality",type:{name:"Enum",allowedValues:["hypothetical","conditional"]}},certainty:{serializedName:"certainty",type:{name:"Enum",allowedValues:["positive","positivePossible","neutralPossible","negativePossible","negative"]}},association:{serializedName:"association",type:{name:"Enum",allowedValues:["subject","other"]}}}}},ut={type:{name:"Composite",className:"HealthcareEntityLink",modelProperties:{dataSource:{serializedName:"dataSource",required:!0,type:{name:"String"}},id:{serializedName:"id",required:!0,type:{name:"String"}}}}},pt={type:{name:"Composite",className:"HealthcareRelation",modelProperties:{relationType:{serializedName:"relationType",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"HealthcareRelationEntity"}}}}}}},dt={type:{name:"Composite",className:"HealthcareRelationEntity",modelProperties:{ref:{serializedName:"ref",required:!0,type:{name:"String"}},role:{serializedName:"role",required:!0,type:{name:"String"}}}}},mt={type:{name:"Composite",className:"LanguageBatchInput",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DetectLanguageInput"}}}}}}},ft={type:{name:"Composite",className:"DetectLanguageInput",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},text:{serializedName:"text",required:!0,type:{name:"String"}},countryHint:{serializedName:"countryHint",type:{name:"String"}}}}},ht={type:{name:"Composite",className:"LanguageResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentLanguage"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},yt={type:{name:"Composite",className:"DocumentLanguage",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},detectedLanguage:{serializedName:"detectedLanguage",type:{name:"Composite",className:"DetectedLanguage"}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},gt={type:{name:"Composite",className:"DetectedLanguage",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},iso6391Name:{serializedName:"iso6391Name",required:!0,type:{name:"String"}},confidenceScore:{serializedName:"confidenceScore",required:!0,type:{name:"Number"}}}}},bt={type:{name:"Composite",className:"AnalyzeBatchInput",modelProperties:Object.assign(Object.assign(Object.assign({},ie.type.modelProperties),oe.type.modelProperties),ce.type.modelProperties)}},vt={type:{name:"Composite",className:"AnalyzeJobMetadata",modelProperties:Object.assign(Object.assign({},Pe.type.modelProperties),Ee.type.modelProperties)}},St={type:{name:"Composite",className:"HealthcareJobState",modelProperties:Object.assign(Object.assign(Object.assign({},Pe.type.modelProperties),it.type.modelProperties),rt.type.modelProperties)}},Ot={type:{name:"Composite",className:"AnalyzeJobState",modelProperties:Object.assign(Object.assign(Object.assign(Object.assign({},vt.type.modelProperties),Te.type.modelProperties),nt.type.modelProperties),rt.type.modelProperties)}},wt={type:{name:"Composite",className:"TasksStateTasksEntityRecognitionTasksItem",modelProperties:Object.assign(Object.assign({},Ne.type.modelProperties),xe.type.modelProperties)}},Pt={type:{name:"Composite",className:"TasksStateTasksEntityRecognitionPiiTasksItem",modelProperties:Object.assign(Object.assign({},Ne.type.modelProperties),Ie.type.modelProperties)}},Et={type:{name:"Composite",className:"TasksStateTasksKeyPhraseExtractionTasksItem",modelProperties:Object.assign(Object.assign({},Ne.type.modelProperties),Le.type.modelProperties)}},Tt={type:{name:"Composite",className:"TasksStateTasksEntityLinkingTasksItem",modelProperties:Object.assign(Object.assign({},Ne.type.modelProperties),Be.type.modelProperties)}},At={type:{name:"Composite",className:"TasksStateTasksSentimentAnalysisTasksItem",modelProperties:Object.assign(Object.assign({},Ne.type.modelProperties),Je.type.modelProperties)}},Nt={type:{name:"Composite",className:"HealthcareEntity",modelProperties:Object.assign(Object.assign({},at.type.modelProperties),ct.type.modelProperties)}},xt={type:{name:"Composite",className:"GeneratedClientAnalyzeHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},Ct={type:{name:"Composite",className:"GeneratedClientCancelHealthJobHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},Rt={type:{name:"Composite",className:"GeneratedClientHealthHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},jt={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},_t={parameterPath:["options","body"],mapper:bt},zt={parameterPath:"accept",mapper:{defaultValue:"application/json, text/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},kt={parameterPath:"endpoint",mapper:{serializedName:"Endpoint",required:!0,type:{name:"String"}},skipEncoding:!0},qt={parameterPath:"apiVersion",mapper:{defaultValue:"v3.1",isConstant:!0,serializedName:"ApiVersion",type:{name:"String"}},skipEncoding:!0},It={parameterPath:["options","includeStatistics"],mapper:{serializedName:"showStats",type:{name:"Boolean"}}},Mt={parameterPath:["options","top"],mapper:{defaultValue:20,constraints:{InclusiveMaximum:50,InclusiveMinimum:1},serializedName:"$top",type:{name:"Number"}}},Dt={parameterPath:["options","skip"],mapper:{constraints:{InclusiveMinimum:0},serializedName:"$skip",type:{name:"Number"}}},Lt={parameterPath:"jobId",mapper:{serializedName:"jobId",required:!0,type:{name:"Uuid"}}},Ut={parameterPath:"input",mapper:se},Ft={parameterPath:["options","modelVersion"],mapper:{serializedName:"model-version",type:{name:"String"}}},Bt={parameterPath:["options","stringIndexType"],mapper:{serializedName:"stringIndexType",type:{name:"String"}}},$t={parameterPath:["options","loggingOptOut"],mapper:{serializedName:"loggingOptOut",type:{name:"Boolean"}}},Ht={parameterPath:"input",mapper:mt};function Vt(e){return e.toLowerCase()}class Wt{constructor(e){if(this._headersMap=new Map,e)for(const t of Object.keys(e))this.set(t,e[t])}set(e,t){this._headersMap.set(Vt(e),{name:e,value:String(t)})}get(e){var t;return null===(t=this._headersMap.get(Vt(e)))||void 0===t?void 0:t.value}has(e){return this._headersMap.has(Vt(e))}delete(e){this._headersMap.delete(Vt(e))}toJSON(e={}){const t={};if(e.preserveCase)for(const e of this._headersMap.values())t[e.name]=e.value;else for(const[e,n]of this._headersMap)t[e]=n.value;return t}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return function*(e){for(const t of e.values())yield[t.name,t.value]}(this._headersMap)}}function Jt(e){return new Wt(e)}var Kt;const Gt="function"==typeof(null===(Kt=null===globalThis||void 0===globalThis?void 0:globalThis.crypto)||void 0===Kt?void 0:Kt.randomUUID)?globalThis.crypto.randomUUID.bind(globalThis.crypto):function(){let e="";for(let t=0;t<32;t++){const n=Math.floor(16*Math.random());e+=12===t?"4":16===t?3&n|8:n.toString(16),7!==t&&11!==t&&15!==t&&19!==t||(e+="-")}return e};class Xt{constructor(e){var t,n,r,i,o,s,a;this.url=e.url,this.body=e.body,this.headers=null!==(t=e.headers)&&void 0!==t?t:Jt(),this.method=null!==(n=e.method)&&void 0!==n?n:"GET",this.timeout=null!==(r=e.timeout)&&void 0!==r?r:0,this.formData=e.formData,this.disableKeepAlive=null!==(i=e.disableKeepAlive)&&void 0!==i&&i,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=null!==(o=e.withCredentials)&&void 0!==o&&o,this.abortSignal=e.abortSignal,this.tracingOptions=e.tracingOptions,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||Gt(),this.allowInsecureConnection=null!==(s=e.allowInsecureConnection)&&void 0!==s&&s,this.enableBrowserStreams=null!==(a=e.enableBrowserStreams)&&void 0!==a&&a}}function Yt(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function Qt(e){if(Yt(e)){const t="string"==typeof e.name,n="string"==typeof e.message;return t&&n}return!1}function Zt(e){if(Qt(e))return e.message;{let t;try{t="object"==typeof e&&e?JSON.stringify(e):String(e)}catch(e){t="[unable to stringify input]"}return`Unknown error ${t}`}}const en={},tn="REDACTED",nn=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],rn=["api-version"];class on{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:t=[]}={}){e=nn.concat(e),t=rn.concat(t),this.allowedHeaderNames=new Set(e.map((e=>e.toLowerCase()))),this.allowedQueryParameters=new Set(t.map((e=>e.toLowerCase())))}sanitize(e){const t=new Set;return JSON.stringify(e,((e,n)=>{if(n instanceof Error)return Object.assign(Object.assign({},n),{name:n.name,message:n.message});if("headers"===e)return this.sanitizeHeaders(n);if("url"===e)return this.sanitizeUrl(n);if("query"===e)return this.sanitizeQuery(n);if("body"!==e&&"response"!==e&&"operationSpec"!==e){if(Array.isArray(n)||Yt(n)){if(t.has(n))return"[Circular]";t.add(n)}return n}}),2)}sanitizeHeaders(e){const t={};for(const n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?t[n]=e[n]:t[n]=tn;return t}sanitizeQuery(e){if("object"!=typeof e||null===e)return e;const t={};for(const n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?t[n]=e[n]:t[n]=tn;return t}sanitizeUrl(e){if("string"!=typeof e||null===e)return e;const t=new URL(e);if(!t.search)return e;for(const[e]of t.searchParams)this.allowedQueryParameters.has(e.toLowerCase())||t.searchParams.set(e,tn);return t.toString()}}const sn=new on;class an extends Error{constructor(e,t={}){super(e),this.name="RestError",this.code=t.code,this.statusCode=t.statusCode,this.request=t.request,this.response=t.response,Object.setPrototypeOf(this,an.prototype)}[en](){return`RestError: ${this.message} \n ${sn.sanitize(this)}`}}function cn(e,t,n){let r=t.parameterPath;const i=t.mapper;let o;if("string"==typeof r&&(r=[r]),Array.isArray(r)){if(r.length>0)if(i.isConstant)o=i.defaultValue;else{let t=ln(e,r);!t.propertyFound&&n&&(t=ln(n,r));let s=!1;t.propertyFound||(s=i.required||"options"===r[0]&&2===r.length),o=s?i.defaultValue:t.propertyValue}}else{i.required&&(o={});for(const t in r){const s=i.type.modelProperties[t],a=cn(e,{parameterPath:r[t],mapper:s},n);void 0!==a&&(o||(o={}),o[t]=a)}}return o}function ln(e,t){const n={propertyFound:!1};let r=0;for(;r<t.length;++r){const n=t[r];if(!e||!(n in e))break;e=e[n]}return r===t.length&&(n.propertyValue=e,n.propertyFound=!0),n}an.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",an.PARSE_ERROR="PARSE_ERROR";const un=new WeakMap,pn=Symbol.for("@azure/core-client original request");function dn(e){if(function(e){return pn in e}(e))return dn(e[pn]);let t=un.get(e);return t||(t={},un.set(e,t)),t}const mn=["application/json","text/json"],fn=["application/xml","application/atom+xml"];const hn=new Set(["Deserialize","Serialize","Retry","Sign"]);class yn{constructor(e){var t;this._policies=[],this._policies=null!==(t=null==e?void 0:e.slice(0))&&void 0!==t?t:[],this._orderedPolicies=void 0}addPolicy(e,t={}){if(t.phase&&t.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!hn.has(t.phase))throw new Error(`Invalid phase name: ${t.phase}`);if(t.afterPhase&&!hn.has(t.afterPhase))throw new Error(`Invalid afterPhase name: ${t.afterPhase}`);this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}removePolicy(e){const t=[];return this._policies=this._policies.filter((n=>!(e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase)||(t.push(n.policy),!1))),this._orderedPolicies=void 0,t}sendRequest(e,t){return this.getOrderedPolicies().reduceRight(((e,t)=>n=>t.sendRequest(n,e)),(t=>e.sendRequest(t)))(t)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new yn(this._policies)}static create(){return new yn}orderPolicies(){const e=[],t=new Map;function n(e){return{name:e,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}const r=n("Serialize"),i=n("None"),o=n("Deserialize"),s=n("Retry"),a=n("Sign"),c=[r,i,o,s,a];function l(e){return"Retry"===e?s:"Serialize"===e?r:"Deserialize"===e?o:"Sign"===e?a:i}for(const e of this._policies){const n=e.policy,r=e.options,i=n.name;if(t.has(i))throw new Error("Duplicate policy names not allowed in pipeline");const o={policy:n,dependsOn:new Set,dependants:new Set};r.afterPhase&&(o.afterPhase=l(r.afterPhase),o.afterPhase.hasAfterPolicies=!0),t.set(i,o),l(r.phase).policies.add(o)}for(const e of this._policies){const{policy:n,options:r}=e,i=n.name,o=t.get(i);if(!o)throw new Error(`Missing node for policy ${i}`);if(r.afterPolicies)for(const e of r.afterPolicies){const n=t.get(e);n&&(o.dependsOn.add(n),n.dependants.add(o))}if(r.beforePolicies)for(const e of r.beforePolicies){const n=t.get(e);n&&(n.dependsOn.add(o),o.dependants.add(n))}}function u(n){n.hasRun=!0;for(const r of n.policies)if((!r.afterPhase||r.afterPhase.hasRun&&!r.afterPhase.policies.size)&&0===r.dependsOn.size){e.push(r.policy);for(const e of r.dependants)e.dependsOn.delete(r);t.delete(r.policy.name),n.policies.delete(r)}}function p(){for(const e of c){if(u(e),e.policies.size>0&&e!==i)return void(i.hasRun||u(i));e.hasAfterPolicies&&u(i)}}let d=0;for(;t.size>0;){d++;const t=e.length;if(p(),e.length<=t&&d>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}const gn="1.10.3",bn=3;function vn(e){const t=new Map;t.set("core-rest-pipeline",gn),function(e){var t,n,r;const i=globalThis.navigator;e.set("OS",(null!==(r=null!==(n=null===(t=null==i?void 0:i.userAgentData)||void 0===t?void 0:t.platform)&&void 0!==n?n:null==i?void 0:i.platform)&&void 0!==r?r:"unknown").replace(" ",""))}(t);const n=function(e){const t=[];for(const[n,r]of e){const e=r?`${n}/${r}`:n;t.push(e)}return t.join(" ")}(t);return e?`${e} ${n}`:n}const Sn="x-ms-useragent",On=(new Error("decompressResponsePolicy is not supported in browser environment"),"Retry-After"),wn=["retry-after-ms","x-ms-retry-after-ms",On];function Pn(e){if(e&&[429,503].includes(e.status))try{for(const t of wn){const n=m(e,t);if(0===n||n)return n*(t===On?1e3:1)}const t=e.headers.get(On);if(!t)return;const n=Date.parse(t)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch(e){return}}const En=1e3,Tn=64e3;function An(e={}){var t,n;const r=null!==(t=e.retryDelayInMs)&&void 0!==t?t:En,i=null!==(n=e.maxRetryDelayInMs)&&void 0!==n?n:Tn;let o=r;return{name:"exponentialRetryStrategy",retry({retryCount:t,response:n,responseError:r}){const s=!!(p=r)&&("ETIMEDOUT"===p.code||"ESOCKETTIMEDOUT"===p.code||"ECONNREFUSED"===p.code||"ECONNRESET"===p.code||"ENOENT"===p.code),a=s&&e.ignoreSystemErrors,c=function(e){return Boolean(e&&void 0!==e.status&&(e.status>=500||408===e.status)&&501!==e.status&&505!==e.status)}(n),l=c&&e.ignoreHttpStatusCodes,u=n&&(function(e){return Number.isFinite(Pn(e))}(n)||!c);var p;if(u||l||a)return{skipStrategy:!0};if(r&&!s&&!c)return{errorToThrow:r};const d=o*Math.pow(2,t),m=Math.min(i,d);var f,h;return o=m/2+(f=0,h=m/2,f=Math.ceil(f),h=Math.floor(h),Math.floor(Math.random()*(h-f+1))+f),{retryAfterInMs:o}}}}const Nn=z("core-rest-pipeline retryPolicy"),xn="retryPolicy";function Cn(e,t={maxRetries:bn}){const n=t.logger||Nn;return{name:xn,async sendRequest(r,i){var o,s;let a,c,l=-1;e:for(;;){l+=1,a=void 0,c=void 0;try{n.info(`Retry ${l}: Attempting to send request`,r.requestId),a=await i(r),n.info(`Retry ${l}: Received a response from request`,r.requestId)}catch(e){if(n.error(`Retry ${l}: Received an error from request`,r.requestId),c=e,!e||"RestError"!==c.name)throw e;a=c.response}if(null===(o=r.abortSignal)||void 0===o?void 0:o.aborted)throw n.error(`Retry ${l}: Request aborted.`),new u;if(l>=(null!==(s=t.maxRetries)&&void 0!==s?s:bn)){if(n.info(`Retry ${l}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),c)throw c;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}n.info(`Retry ${l}: Processing ${e.length} retry strategies.`);t:for(const t of e){const e=t.logger||Nn;e.info(`Retry ${l}: Processing retry strategy ${t.name}.`);const n=t.retry({retryCount:l,response:a,responseError:c});if(n.skipStrategy){e.info(`Retry ${l}: Skipped.`);continue t}const{errorToThrow:i,retryAfterInMs:o,redirectTo:s}=n;if(i)throw e.error(`Retry ${l}: Retry strategy ${t.name} throws error:`,i),i;if(o||0===o){e.info(`Retry ${l}: Retry strategy ${t.name} retries after ${o}`),await d(o,void 0,{abortSignal:r.abortSignal});continue e}if(s){e.info(`Retry ${l}: Retry strategy ${t.name} redirects to ${s}`),r.url=s;continue e}}if(c)throw n.info("None of the retry strategies could work with the received error. Throwing it."),c;if(a)return n.info("None of the retry strategies could work with the received response. Returning it."),a}}}}new Error("proxyPolicy is not supported in browser environment");const Rn={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function jn(e={}){let t=new _n(e.parentContext);return e.span&&(t=t.setValue(Rn.span,e.span)),e.namespace&&(t=t.setValue(Rn.namespace,e.namespace)),t}class _n{constructor(e){this._contextMap=e instanceof _n?new Map(e._contextMap):new Map}setValue(e,t){const n=new _n(this);return n._contextMap.set(e,t),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){const t=new _n(this);return t._contextMap.delete(e),t}}let zn;function kn(){return zn||(zn={createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}},tracingContext:jn({parentContext:t.tracingContext})}),withContext:(e,t,...n)=>t(...n)}),zn}const qn="tracingPolicy";function In(e){const t=yn.create();return t.addPolicy({name:"formDataPolicy",async sendRequest(e,t){if(e.formData){const t=e.formData,n=new FormData;for(const e of Object.keys(t)){const r=t[e];if(Array.isArray(r))for(const t of r)n.append(e,t);else n.append(e,r)}e.body=n,e.formData=void 0;const r=e.headers.get("Content-Type");r&&-1!==r.indexOf("application/x-www-form-urlencoded")?e.body=new URLSearchParams(n).toString():r&&-1!==r.indexOf("multipart/form-data")&&e.headers.delete("Content-Type")}return t(e)}}),t.addPolicy(function(e={}){const t=vn(e.userAgentPrefix);return{name:"userAgentPolicy",sendRequest:async(e,n)=>(e.headers.has(Sn)||e.headers.set(Sn,t),n(e))}}(e.userAgentOptions)),t.addPolicy(function(e="x-ms-client-request-id"){return{name:"setClientRequestIdPolicy",sendRequest:async(t,n)=>(t.headers.has(e)||t.headers.set(e,t.requestId),n(t))}}()),t.addPolicy(function(e={}){var t;return{name:"defaultRetryPolicy",sendRequest:Cn([{name:"throttlingRetryStrategy",retry({response:e}){const t=Pn(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}},An(e)],{maxRetries:null!==(t=e.maxRetries)&&void 0!==t?t:bn}).sendRequest}}(e.retryOptions),{phase:"Retry"}),t.addPolicy(function(e={}){const t=vn(e.userAgentPrefix),n=function(){try{return function(e){const{namespace:t,packageName:n,packageVersion:r}=e;function i(e,i,o){var s;const a=kn().startSpan(e,Object.assign(Object.assign({},o),{packageName:n,packageVersion:r,tracingContext:null===(s=null==i?void 0:i.tracingOptions)||void 0===s?void 0:s.tracingContext}));let c=a.tracingContext;const l=a.span;return c.getValue(Rn.namespace)||(c=c.setValue(Rn.namespace,t)),l.setAttribute("az.namespace",c.getValue(Rn.namespace)),{span:l,updatedOptions:Object.assign({},i,{tracingOptions:Object.assign(Object.assign({},null==i?void 0:i.tracingOptions),{tracingContext:c})})}}function o(e,t,...n){return kn().withContext(e,t,...n)}return{startSpan:i,withSpan:async function(e,t,n,r){const{span:s,updatedOptions:a}=i(e,t,r);try{const e=await o(a.tracingOptions.tracingContext,(()=>Promise.resolve(n(a,s))));return s.setStatus({status:"success"}),e}catch(e){throw s.setStatus({status:"error",error:e}),e}finally{s.end()}},withContext:o,parseTraceparentHeader:function(e){return kn().parseTraceparentHeader(e)},createRequestHeaders:function(e){return kn().createRequestHeaders(e)}}}({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:gn})}catch(e){return void D.warning(`Error when creating the TracingClient: ${Zt(e)}`)}}();return{name:qn,async sendRequest(e,r){var i,o;if(!n||!(null===(i=e.tracingOptions)||void 0===i?void 0:i.tracingContext))return r(e);const{span:s,tracingContext:a}=null!==(o=function(e,t,n){try{const{span:r,updatedOptions:i}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":t.method,"http.url":t.url,requestId:t.requestId}});if(!r.isRecording())return void r.end();n&&r.setAttribute("http.user_agent",n);const o=e.createRequestHeaders(i.tracingOptions.tracingContext);for(const[e,n]of Object.entries(o))t.headers.set(e,n);return{span:r,tracingContext:i.tracingOptions.tracingContext}}catch(e){return void D.warning(`Skipping creating a tracing span due to an error: ${Zt(e)}`)}}(n,e,t))&&void 0!==o?o:{};if(!s||!a)return r(e);try{const t=await n.withContext(a,r,e);return function(e,t){try{e.setAttribute("http.status_code",t.status);const n=t.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),e.setStatus({status:"success"}),e.end()}catch(e){D.warning(`Skipping tracing span processing due to an error: ${Zt(e)}`)}}(s,t),t}catch(e){throw function(e,t){try{e.setStatus({status:"error",error:Qt(t)?t:void 0}),((n=t)instanceof an||Qt(n)&&"RestError"===n.name)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(n){D.warning(`Skipping tracing span processing due to an error: ${Zt(n)}`)}var n}(s,e),e}}}}(e.userAgentOptions),{afterPhase:"Retry"}),t.addPolicy(function(e={}){var t;const n=null!==(t=e.logger)&&void 0!==t?t:D.info,r=new on({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:"logPolicy",async sendRequest(e,t){if(!n.enabled)return t(e);n(`Request: ${r.sanitize(e)}`);const i=await t(e);return n(`Response status code: ${i.status}`),n(`Headers: ${r.sanitize(i.headers)}`),i}}}(e.loggingOptions),{afterPhase:"Sign"}),t}function Mn(e){const{parameterPath:t,mapper:n}=e;let r;return r="string"==typeof t?t:Array.isArray(t)?t.join("."):n.serializedName,r}function Dn(e){return Boolean(e&&"function"==typeof e.getReader&&"function"==typeof e.tee)}class Ln{async sendRequest(e){if("https:"!==new URL(e.url).protocol&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");try{return await async function(e){const{abortController:t,abortControllerCleanup:n}=function(e){const t=new AbortController;let n,r;if(e.abortSignal){if(e.abortSignal.aborted)throw new u("The operation was aborted.");r=e=>{"abort"===e.type&&t.abort()},e.abortSignal.addEventListener("abort",r),n=()=>{var t;r&&(null===(t=e.abortSignal)||void 0===t||t.removeEventListener("abort",r))}}return e.timeout>0&&setTimeout((()=>{t.abort()}),e.timeout),{abortController:t,abortControllerCleanup:n}}(e);try{const n=function(e){const t=new Headers;for(const[n,r]of e)t.append(n,r);return t}(e.headers),r=function(e){const t="function"==typeof e.body?e.body():e.body;if(function(e){return e&&"function"==typeof e.pipe}(t))throw new Error("Node streams are not supported in browser environment.");return Dn(t)?Un(t,e.onUploadProgress):t}(e),i=await fetch(e.url,{body:r,method:e.method,headers:n,signal:t.signal,credentials:e.withCredentials?"include":"same-origin",cache:"no-store"});return function(e){return("function"==typeof Blob||"object"==typeof Blob)&&e instanceof Blob}(e.body)&&e.onUploadProgress&&e.onUploadProgress({loadedBytes:e.body.size}),async function(e,t){var n,r;const i=function(e){const t=Jt();for(const[n,r]of e.headers)t.set(n,r);return t}(e),o={request:t,headers:i,status:e.status},s=Dn(e.body)?Un(e.body,t.onDownloadProgress):e.body;if((null===(n=t.streamResponseStatusCodes)||void 0===n?void 0:n.has(Number.POSITIVE_INFINITY))||(null===(r=t.streamResponseStatusCodes)||void 0===r?void 0:r.has(o.status)))if(t.enableBrowserStreams)o.browserStreamBody=null!=s?s:void 0;else{const e=new Response(s);o.blobBody=e.blob()}else{const e=new Response(s);o.bodyAsText=await e.text()}return o}(i,e)}finally{n&&n()}}(e)}catch(t){throw function(e,t){var n;return e&&"AbortError"===(null==e?void 0:e.name)?e:new an(`Error sending request: ${e.message}`,{code:null!==(n=null==e?void 0:e.code)&&void 0!==n?n:an.REQUEST_SEND_ERROR,request:t})}(t,e)}}}function Un(e,t){let n=0;if(function(e){return void 0!==e.pipeThrough&&void 0!==self.TransformStream}(e))return e.pipeThrough(new TransformStream({transform(e,r){null!==e?(r.enqueue(e),n+=e.length,t&&t({loadedBytes:n})):r.terminate()}}));{const r=e.getReader();return new ReadableStream({async pull(e){var i;const{done:o,value:s}=await r.read();if(o||!s)return e.close(),void r.releaseLock();n+=null!==(i=null==s?void 0:s.length)&&void 0!==i?i:0,e.enqueue(s),t&&t({loadedBytes:n})}})}}let Fn;const Bn={CSV:",",SSV:" ",Multi:"Multi",TSV:"\t",Pipes:"|"};function $n(e,t,n,r){const i=function(e,t,n){var r;const i=new Map;if(null===(r=e.urlParameters)||void 0===r?void 0:r.length)for(const r of e.urlParameters){let o=cn(t,r,n);const s=Mn(r);o=e.serializer.serialize(r.mapper,o,s),r.skipEncoding||(o=encodeURIComponent(o)),i.set(`{${r.mapper.serializedName||s}}`,o)}return i}(t,n,r);let o=!1,s=Hn(e,i);if(t.path){let e=Hn(t.path,i);"/{nextLink}"===t.path&&e.startsWith("/")&&(e=e.substring(1)),e.includes("://")?(s=e,o=!0):s=function(e,t){if(!t)return e;const n=new URL(e);let r=n.pathname;r.endsWith("/")||(r=`${r}/`),t.startsWith("/")&&(t=t.substring(1));const i=t.indexOf("?");if(-1!==i){const e=t.substring(0,i),o=t.substring(i+1);r+=e,o&&(n.search=n.search?`${n.search}&${o}`:o)}else r+=t;return n.pathname=r,n.toString()}(s,e)}const{queryParams:a,sequenceParams:c}=function(e,t,n){var r;const i=new Map,o=new Set;if(null===(r=e.queryParameters)||void 0===r?void 0:r.length)for(const r of e.queryParameters){"Sequence"===r.mapper.type.name&&r.mapper.serializedName&&o.add(r.mapper.serializedName);let s=cn(t,r,n);if(null!=s||r.mapper.required){s=e.serializer.serialize(r.mapper,s,Mn(r));const t=r.collectionFormat?Bn[r.collectionFormat]:"";if(Array.isArray(s)&&(s=s.map((e=>null==e?"":e))),"Multi"===r.collectionFormat&&0===s.length)continue;!Array.isArray(s)||"SSV"!==r.collectionFormat&&"TSV"!==r.collectionFormat||(s=s.join(t)),r.skipEncoding||(s=Array.isArray(s)?s.map((e=>encodeURIComponent(e))):encodeURIComponent(s)),!Array.isArray(s)||"CSV"!==r.collectionFormat&&"Pipes"!==r.collectionFormat||(s=s.join(t)),i.set(r.mapper.serializedName||Mn(r),s)}}return{queryParams:i,sequenceParams:o}}(t,n,r);return s=function(e,t,n,r=!1){if(0===t.size)return e;const i=new URL(e),o=function(e){const t=new Map;if(!e||"?"!==e[0])return t;const n=(e=e.slice(1)).split("&");for(const e of n){const[n,r]=e.split("=",2),i=t.get(n);i?Array.isArray(i)?i.push(r):t.set(n,[i,r]):t.set(n,r)}return t}(i.search);for(const[e,i]of t){const t=o.get(e);if(Array.isArray(t))if(Array.isArray(i)){t.push(...i);const n=new Set(t);o.set(e,Array.from(n))}else t.push(i);else t?(Array.isArray(i)?i.unshift(t):n.has(e)&&o.set(e,[t,i]),r||o.set(e,i)):o.set(e,i)}const s=[];for(const[e,t]of o)if("string"==typeof t)s.push(`${e}=${t}`);else if(Array.isArray(t))for(const n of t)s.push(`${e}=${n}`);else s.push(`${e}=${t}`);return i.search=s.length?`?${s.join("&")}`:"",i.toString()}(s,a,c,o),s}function Hn(e,t){let n=e;for(const[e,r]of t)n=n.split(e).join(r);return n}const Vn=z("core-client");class Wn{constructor(e={}){var t,n;if(this._requestContentType=e.requestContentType,this._endpoint=null!==(t=e.endpoint)&&void 0!==t?t:e.baseUri,e.baseUri&&Vn.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||(Fn||(Fn=new Ln),Fn),this.pipeline=e.pipeline||function(e){const t=function(e){if(e.credentialScopes){const t=e.credentialScopes;return Array.isArray(t)?t.map((e=>new URL(e).toString())):new URL(t).toString()}if(e.endpoint)return`${e.endpoint}/.default`;if(e.baseUri)return`${e.baseUri}/.default`;if(e.credential&&!e.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}(e),n=e.credential&&t?{credentialScopes:t,credential:e.credential}:void 0;return function(e={}){const t=In(null!=e?e:{});return e.credentialOptions&&t.addPolicy(U({credential:e.credentialOptions.credential,scopes:e.credentialOptions.credentialScopes})),t.addPolicy(function(e={}){const t=e.stringifyXML;return{name:"serializationPolicy",async sendRequest(e,n){const r=dn(e),i=null==r?void 0:r.operationSpec,o=null==r?void 0:r.operationArguments;return i&&o&&(function(e,t,n){var r,i;if(n.headerParameters)for(const r of n.headerParameters){let i=cn(t,r);if(null!=i||r.mapper.required){i=n.serializer.serialize(r.mapper,i,Mn(r));const t=r.mapper.headerCollectionPrefix;if(t)for(const n of Object.keys(i))e.headers.set(t+n,i[n]);else e.headers.set(r.mapper.serializedName||Mn(r),i)}}const o=null===(i=null===(r=t.options)||void 0===r?void 0:r.requestOptions)||void 0===i?void 0:i.customHeaders;if(o)for(const t of Object.keys(o))e.headers.set(t,o[t])}(e,o,i),function(e,t,n,r=function(){throw new Error("XML serialization unsupported!")}){var i,o,s,a,c;const l=null===(i=t.options)||void 0===i?void 0:i.serializerOptions,u={xml:{rootName:null!==(o=null==l?void 0:l.xml.rootName)&&void 0!==o?o:"",includeRoot:null!==(s=null==l?void 0:l.xml.includeRoot)&&void 0!==s&&s,xmlCharKey:null!==(a=null==l?void 0:l.xml.xmlCharKey)&&void 0!==a?a:H}},p=u.xml.xmlCharKey;if(n.requestBody&&n.requestBody.mapper){e.body=cn(t,n.requestBody);const i=n.requestBody.mapper,{required:o,serializedName:s,xmlName:a,xmlElementName:l,xmlNamespace:d,xmlNamespacePrefix:m,nullable:f}=i,h=i.type.name;try{if(void 0!==e.body&&null!==e.body||f&&null===e.body||o){const t=Mn(n.requestBody);e.body=n.serializer.serialize(i,e.body,t,u);const o=h===re.Stream;if(n.isXML){const t=m?`xmlns:${m}`:"xmlns",n=function(e,t,n,r,i){if(e&&!["Composite","Sequence","Dictionary"].includes(n)){const n={};return n[i.xml.xmlCharKey]=r,n[$]={[t]:e},n}return r}(d,t,h,e.body,u);h===re.Sequence?e.body=r(function(e,t,n,r){if(Array.isArray(e)||(e=[e]),!n||!r)return{[t]:e};const i={[t]:e};return i[$]={[n]:r},i}(n,l||a||s,t,d),{rootName:a||s,xmlCharKey:p}):o||(e.body=r(n,{rootName:a||s,xmlCharKey:p}))}else{if(h===re.String&&((null===(c=n.contentType)||void 0===c?void 0:c.match("text/plain"))||"text"===n.mediaType))return;o||(e.body=JSON.stringify(e.body))}}}catch(e){throw new Error(`Error "${e.message}" occurred in serializing the payload - ${JSON.stringify(s,void 0,"  ")}.`)}}else if(n.formDataParameters&&n.formDataParameters.length>0){e.formData={};for(const r of n.formDataParameters){const i=cn(t,r);if(null!=i){const t=r.mapper.serializedName||Mn(r);e.formData[t]=n.serializer.serialize(r.mapper,i,Mn(r),u)}}}}(e,o,i,t)),n(e)}}}(e.serializationOptions),{phase:"Serialize"}),t.addPolicy(function(e={}){var t,n,r,i,o,s,a;const c=null!==(n=null===(t=e.expectedContentTypes)||void 0===t?void 0:t.json)&&void 0!==n?n:mn,l=null!==(i=null===(r=e.expectedContentTypes)||void 0===r?void 0:r.xml)&&void 0!==i?i:fn,u=e.parseXML,p=e.serializerOptions,d={xml:{rootName:null!==(o=null==p?void 0:p.xml.rootName)&&void 0!==o?o:"",includeRoot:null!==(s=null==p?void 0:p.xml.includeRoot)&&void 0!==s&&s,xmlCharKey:null!==(a=null==p?void 0:p.xml.xmlCharKey)&&void 0!==a?a:H}};return{name:"deserializationPolicy",async sendRequest(e,t){const n=await t(e);return async function(e,t,n,r,i){const o=await async function(e,t,n,r,i){var o;if(!(null===(o=n.request.streamResponseStatusCodes)||void 0===o?void 0:o.has(n.status))&&n.bodyAsText){const o=n.bodyAsText,s=n.headers.get("Content-Type")||"",a=s?s.split(";").map((e=>e.toLowerCase())):[];try{if(0===a.length||a.some((t=>-1!==e.indexOf(t))))return n.parsedBody=JSON.parse(o),n;if(a.some((e=>-1!==t.indexOf(e)))){if(!i)throw new Error("Parsing XML not supported.");const e=await i(o,r.xml);return n.parsedBody=e,n}}catch(e){const t=`Error "${e}" occurred while parsing the response body - ${n.bodyAsText}.`,r=e.code||an.PARSE_ERROR;throw new an(t,{code:r,statusCode:n.status,request:n.request,response:n})}}return n}(e,t,n,r,i);if(!function(e){const t=dn(e.request),n=null==t?void 0:t.shouldDeserialize;let r;return r=void 0===n||("boolean"==typeof n?n:n(e)),r}(o))return o;const s=dn(o.request),a=null==s?void 0:s.operationSpec;if(!a||!a.responses)return o;const c=function(e){let t;const n=dn(e.request),r=null==n?void 0:n.operationSpec;return r&&(t=(null==n?void 0:n.operationResponseGetter)?null==n?void 0:n.operationResponseGetter(r,e):r.responses[e.status]),t}(o),{error:l,shouldReturnResponse:u}=function(e,t,n,r){var i;const o=200<=e.status&&e.status<300,s=function(e){const t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]}(t)?o:!!n;if(s){if(!n)return{error:null,shouldReturnResponse:!1};if(!n.isError)return{error:null,shouldReturnResponse:!1}}const a=null!=n?n:t.responses.default,c=(null===(i=e.request.streamResponseStatusCodes)||void 0===i?void 0:i.has(e.status))?`Unexpected status code: ${e.status}`:e.bodyAsText,l=new an(c,{statusCode:e.status,request:e.request,response:e});if(!a)throw l;const u=a.bodyMapper,p=a.headersMapper;try{if(e.parsedBody){const n=e.parsedBody;let i;if(u){let e=n;if(t.isXML&&u.type.name===re.Sequence){e=[];const t=u.xmlElementName;"object"==typeof n&&t&&(e=n[t])}i=t.serializer.deserialize(u,e,"error.response.parsedBody",r)}const o=n.error||i||n;l.code=o.code,o.message&&(l.message=o.message),u&&(l.response.parsedBody=i)}e.headers&&p&&(l.response.parsedHeaders=t.serializer.deserialize(p,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(t){l.message=`Error "${t.message}" occurred in deserializing the responseBody - "${e.bodyAsText}" for the default response.`}return{error:l,shouldReturnResponse:!1}}(o,a,c,r);if(l)throw l;if(u)return o;if(c){if(c.bodyMapper){let e=o.parsedBody;a.isXML&&c.bodyMapper.type.name===re.Sequence&&(e="object"==typeof e?e[c.bodyMapper.xmlElementName]:[]);try{o.parsedBody=a.serializer.deserialize(c.bodyMapper,e,"operationRes.parsedBody",r)}catch(e){throw new an(`Error ${e} occurred in deserializing the responseBody - ${o.bodyAsText}`,{statusCode:o.status,request:o.request,response:o})}}else"HEAD"===a.httpMethod&&(o.parsedBody=n.status>=200&&n.status<300);c.headersMapper&&(o.parsedHeaders=a.serializer.deserialize(c.headersMapper,o.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return o}(c,l,n,d,u)}}}(e.deserializationOptions),{phase:"Deserialize"}),t}(Object.assign(Object.assign({},e),{credentialOptions:n}))}(e),null===(n=e.additionalPolicies)||void 0===n?void 0:n.length)for(const{policy:t,position:n}of e.additionalPolicies){const e="perRetry"===n?"Sign":void 0;this.pipeline.addPolicy(t,{afterPhase:e})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,t){const n=t.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");const r=function(e){return new Xt(e)}({url:$n(n,t,e,this)});r.method=t.httpMethod;const i=dn(r);i.operationSpec=t,i.operationArguments=e;const o=t.contentType||this._requestContentType;o&&t.requestBody&&r.headers.set("Content-Type",o);const s=e.options;if(s){const e=s.requestOptions;e&&(e.timeout&&(r.timeout=e.timeout),e.onUploadProgress&&(r.onUploadProgress=e.onUploadProgress),e.onDownloadProgress&&(r.onDownloadProgress=e.onDownloadProgress),void 0!==e.shouldDeserialize&&(i.shouldDeserialize=e.shouldDeserialize),e.allowInsecureConnection&&(r.allowInsecureConnection=!0)),s.abortSignal&&(r.abortSignal=s.abortSignal),s.tracingOptions&&(r.tracingOptions=s.tracingOptions)}this._allowInsecureConnection&&(r.allowInsecureConnection=!0),void 0===r.streamResponseStatusCodes&&(r.streamResponseStatusCodes=function(e){const t=new Set;for(const n in e.responses){const r=e.responses[n];r.bodyMapper&&r.bodyMapper.type.name===re.Stream&&t.add(Number(n))}return t}(t));try{const e=await this.sendRequest(r),n=J(e,t.responses[e.status]);return(null==s?void 0:s.onResponse)&&s.onResponse(e,n),n}catch(e){if("object"==typeof e&&(null==e?void 0:e.response)){const n=e.response,r=J(n,t.responses[e.statusCode]||t.responses.default);e.details=r,(null==s?void 0:s.onResponse)&&s.onResponse(n,r,e)}throw e}}}class Jn extends Wn{constructor(e,t){if(void 0===e)throw new Error("'endpoint' cannot be null");t||(t={});const n="azsdk-js-ai-text-analytics/5.1.0",r=t.userAgentOptions&&t.userAgentOptions.userAgentPrefix?`${t.userAgentOptions.userAgentPrefix} ${n}`:`${n}`;super(Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),t),{userAgentOptions:{userAgentPrefix:r},baseUri:t.endpoint||"{Endpoint}/text/analytics/{ApiVersion}"})),this.endpoint=e,this.apiVersion=t.apiVersion||"v3.1"}}class Kn extends Jn{constructor(e,t){super(e,t)}analyze(e){return this.sendOperationRequest({options:e},Xn)}analyzeStatus(e,t){return this.sendOperationRequest({jobId:e,options:t},Yn)}healthStatus(e,t){return this.sendOperationRequest({jobId:e,options:t},Qn)}cancelHealthJob(e,t){return this.sendOperationRequest({jobId:e,options:t},Zn)}health(e,t){return this.sendOperationRequest({input:e,options:t},er)}entitiesRecognitionGeneral(e,t){return this.sendOperationRequest({input:e,options:t},tr)}entitiesRecognitionPii(e,t){return this.sendOperationRequest({input:e,options:t},nr)}entitiesLinking(e,t){return this.sendOperationRequest({input:e,options:t},rr)}keyPhrases(e,t){return this.sendOperationRequest({input:e,options:t},ir)}languages(e,t){return this.sendOperationRequest({input:e,options:t},or)}sentiment(e,t){return this.sendOperationRequest({input:e,options:t},sr)}}const Gn=function(e={},t=!1){return new K(e,t)}(r,!1),Xn={path:"/analyze",httpMethod:"POST",responses:{202:{headersMapper:xt},default:{bodyMapper:Se}},requestBody:_t,urlParameters:[kt,qt],headerParameters:[jt,zt],mediaType:"json",serializer:Gn},Yn={path:"/analyze/jobs/{jobId}",httpMethod:"GET",responses:{200:{bodyMapper:Ot},default:{bodyMapper:Se}},queryParameters:[It,Mt,Dt],urlParameters:[kt,qt,{parameterPath:"jobId",mapper:{serializedName:"jobId",required:!0,type:{name:"String"}}}],headerParameters:[zt],serializer:Gn},Qn={path:"/entities/health/jobs/{jobId}",httpMethod:"GET",responses:{200:{bodyMapper:St},default:{bodyMapper:Se}},queryParameters:[It,Mt,Dt],urlParameters:[kt,qt,Lt],headerParameters:[zt],serializer:Gn},Zn={path:"/entities/health/jobs/{jobId}",httpMethod:"DELETE",responses:{202:{headersMapper:Ct},default:{bodyMapper:Se}},urlParameters:[kt,qt,Lt],headerParameters:[zt],serializer:Gn},er={path:"/entities/health/jobs",httpMethod:"POST",responses:{202:{headersMapper:Rt},default:{bodyMapper:Se}},requestBody:Ut,queryParameters:[Ft,Bt,$t],urlParameters:[kt,qt],headerParameters:[jt,zt],mediaType:"json",serializer:Gn},tr={path:"/entities/recognition/general",httpMethod:"POST",responses:{200:{bodyMapper:Ce},default:{bodyMapper:Se}},requestBody:Ut,queryParameters:[It,Ft,Bt,$t],urlParameters:[kt,qt],headerParameters:[jt,zt],mediaType:"json",serializer:Gn},nr={path:"/entities/recognition/pii",httpMethod:"POST",responses:{200:{bodyMapper:Me},default:{bodyMapper:Se}},requestBody:Ut,queryParameters:[It,Ft,Bt,$t,{parameterPath:["options","domain"],mapper:{serializedName:"domain",type:{name:"String"}}},{parameterPath:["options","piiCategories"],mapper:{constraints:{UniqueItems:!0},serializedName:"piiCategories",type:{name:"Sequence",element:{type:{name:"String"}}}},collectionFormat:"CSV"}],urlParameters:[kt,qt],headerParameters:[jt,zt],mediaType:"json",serializer:Gn},rr={path:"/entities/linking",httpMethod:"POST",responses:{200:{bodyMapper:$e},default:{bodyMapper:Se}},requestBody:Ut,queryParameters:[It,Ft,Bt,$t],urlParameters:[kt,qt],headerParameters:[jt,zt],mediaType:"json",serializer:Gn},ir={path:"/keyPhrases",httpMethod:"POST",responses:{200:{bodyMapper:Ue},default:{bodyMapper:Se}},requestBody:Ut,queryParameters:[It,Ft,$t],urlParameters:[kt,qt],headerParameters:[jt,zt],mediaType:"json",serializer:Gn},or={path:"/languages",httpMethod:"POST",responses:{200:{bodyMapper:ht},default:{bodyMapper:Se}},requestBody:Ht,queryParameters:[It,Ft,$t],urlParameters:[kt,qt],headerParameters:[jt,zt],mediaType:"json",serializer:Gn},sr={path:"/sentiment",httpMethod:"POST",responses:{200:{bodyMapper:Ke},default:{bodyMapper:Se}},requestBody:Ut,queryParameters:[It,Ft,Bt,$t,{parameterPath:["options","opinionMining"],mapper:{serializedName:"opinionMining",type:{name:"Boolean"}}}],urlParameters:[kt,qt],headerParameters:[jt,zt],mediaType:"json",serializer:Gn},ar=z("ai-text-analytics"),cr=URL,lr=URLSearchParams;function ur(e){const t=new RegExp(/#\/results\/documents\/(\d+)\/entities\/(\d+)/).exec(e);if(null!==t)return parseInt(t[2]);throw new Error(`Pointer "${e}" is not a valid healthcare entity pointer`)}const pr="Utf16CodeUnit";function dr(e){return Object.assign(Object.assign({},e),{stringIndexType:e.stringIndexType||pr})}function mr(e){return e||pr}function fr(e){return Object.assign(Object.assign({},e),{opinionMining:e.includeOpinionMining})}function hr(e){return Object.assign(Object.assign({},e),{piiCategories:e.categoriesFilter})}function yr(e){const{actionName:t}=e;return{parameters:o(e,["actionName"]),taskName:t}}function gr(e){const t=new cr(e),n=new lr(t.searchParams);let r,i;if(!n.has("$top"))throw new Error(`nextLink URL does not have the $top param: ${e}`);if(r=parseInt(n.get("$top")),!n.has("$skip"))throw new Error(`nextLink URL does not have the $skip param: ${e}`);return i=parseInt(n.get("$skip")),{skip:i,top:r}}function br(e){const t=e.lastIndexOf("/");return e.substring(t+1)}function vr(e){var t,n,r,i,o,s,a,c;const l=e,u=null===(i=null===(r=null===(n=null===(t=l.response)||void 0===t?void 0:t.parsedBody)||void 0===n?void 0:n.error)||void 0===r?void 0:r.innererror)||void 0===i?void 0:i.code,p=null===(c=null===(a=null===(s=null===(o=l.response)||void 0===o?void 0:o.parsedBody)||void 0===s?void 0:s.error)||void 0===a?void 0:a.innererror)||void 0===c?void 0:c.message;return p?"InvalidDocumentBatch"===u?new an(p,{code:u,statusCode:l.statusCode}):e:(ar.warning(`The error coming from the service does not follow the expected structure: ${e}`),e)}function Sr(e){return new Promise((t=>setTimeout((()=>t()),e)))}function Or(e,t){return n=>t(e(n))}function wr(e){return void 0!==e.innererror?wr(e.innererror):{code:e.code,message:e.message,target:e.target}}function Pr(e,t,n){return{id:e,statistics:n,warnings:t}}function Er(e,t){return{id:e,error:wr(t)}}function Tr(e,t,n,r){return function(e,t){const n=new Map;for(const e of t)n.set(e.id,e);if(t.length!==e.length){const n=t.length>e.length?"more":"fewer";ar.warning(`The service returned ${n} responses than inputs. Some errors may be treated as fatal.`)}const r=[];for(const t of e){const e=n.get(t.id);e&&r.push(e)}return r}(e,t.documents.map(n).concat(t.errors.map((e=>r(e.id,e.error)))))}function Ar(e,t,n,r){const i=Tr(e,t,n,r);return Object.assign(i,{statistics:t.statistics,modelVersion:t.modelVersion})}function Nr(e){const{id:t,warnings:n,statistics:r,detectedLanguage:i}=e;return Object.assign(Object.assign({},Pr(t,n,r)),{primaryLanguage:i})}function xr(e,t){return Er(e,t)}function Cr(e){const{entities:t,statistics:n,warnings:r,id:i}=e;return Object.assign(Object.assign({},Pr(i,r,n)),{entities:t})}function Rr(e,t){return Er(e,t)}function jr(e,t){return Ar(e,t,Cr,Rr)}function _r(e){const{id:t,sentiment:n,confidenceScores:r,sentenceSentiments:i,warnings:o,statistics:s}=e;return Object.assign(Object.assign({},Pr(t,o,s)),{sentiment:n,confidenceScores:r,sentences:i.map((t=>function(e,t){return{confidenceScores:e.confidenceScores,sentiment:e.sentiment,text:e.text,offset:e.offset,length:e.length,opinions:e.targets?e.targets.map((e=>({target:{confidenceScores:e.confidenceScores,sentiment:e.sentiment,text:e.text,offset:e.offset,length:e.length},assessments:e.relations.filter((e=>"assessment"===e.relationType)).map((e=>function(e,t){var n,r;const i=e.ref,o=function(e){const t=new RegExp(/#\/documents\/(\d+)\/sentences\/(\d+)\/assessments\/(\d+)/).exec(e);if(null!==t)return{document:parseInt(t[1]),sentence:parseInt(t[2]),assessment:parseInt(t[3])};throw new Error(`Pointer "${e}" is not a valid Assessment pointer`)}(i),s=null===(r=null===(n=t.sentenceSentiments)||void 0===n?void 0:n[o.sentence].assessments)||void 0===r?void 0:r[o.assessment];if(void 0!==s)return s;throw new Error(`Pointer "${i}" is not a valid Assessment pointer`)}(e,t)))}))):[]}}(t,e)))})}function zr(e,t){return Er(e,t)}function kr(e,t){return Ar(e,t,_r,zr)}function qr(e){const{id:t,warnings:n,statistics:r,keyPhrases:i}=e;return Object.assign(Object.assign({},Pr(t,n,r)),{keyPhrases:i})}function Ir(e,t){return Er(e,t)}function Mr(e,t){return Ar(e,t,qr,Ir)}function Dr(e){const{id:t,entities:n,warnings:r,statistics:i,redactedText:o}=e;return Object.assign(Object.assign({},Pr(t,r,i)),{entities:n,redactedText:o})}function Lr(e,t){return Er(e,t)}function Ur(e,t){return Ar(e,t,Dr,Lr)}function Fr(e){const{statistics:t,id:n,warnings:r,entities:i}=e;return Object.assign(Object.assign({},Pr(n,r,t)),{entities:i})}function Br(e,t){return Er(e,t)}function $r(e,t){return Ar(e,t,Fr,Br)}class Hr{spanContext(){return{spanId:"",traceId:"",traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}recordException(e,t){}}class Vr{startSpan(e,t){return new Hr}getCurrentSpan(){return new Hr}withSpan(e,t){return t()}bind(e,t){return e}}const Wr=Symbol.for("@azure/core-tracing.tracerCache4");let Jr,Kr;function Gr(){return Jr||function(){const e=self;e[Wr]||(e[Wr]={tracer:void 0}),Jr=e[Wr]}(),Jr}var Xr="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},Yr="1.4.1",Qr=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,Zr=function(e){var t=new Set([e]),n=new Set,r=e.match(Qr);if(!r)return function(){return!1};var i=+r[1],o=+r[2],s=+r[3];if(null!=r[4])return function(t){return t===e};function a(e){return n.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(Qr);if(!r)return a(e);var l=+r[1],u=+r[2],p=+r[3];return null!=r[4]||i!==l?a(e):0===i?o===u&&s<=p?c(e):a(e):o<=u?c(e):a(e)}}(Yr),ei=Yr.split(".")[0],ti=Symbol.for("opentelemetry.js.api."+ei),ni=Xr;function ri(e,t,n,r){var i;void 0===r&&(r=!1);var o=ni[ti]=null!==(i=ni[ti])&&void 0!==i?i:{version:Yr};if(!r&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}return o.version!==Yr?(s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+Yr),n.error(s.stack||s.message),!1):(o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Yr+"."),!0)}function ii(e){var t,n,r=null===(t=ni[ti])||void 0===t?void 0:t.version;if(r&&Zr(r))return null===(n=ni[ti])||void 0===n?void 0:n[e]}function oi(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Yr+".");var n=ni[ti];n&&delete n[e]}var si,ai=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},ci=function(){function e(){}return e.prototype.active=function(){return ai},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),li=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ui("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ui("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ui("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ui("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ui("verbose",this._namespace,e)},e}();function ui(e,t,n){var r=ii("diag");if(r)return n.unshift(t),r[e].apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(si||(si={}));var pi,di=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ii("diag");if(r)return r[e].apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(t),!1))}}var t=this;t.setLogger=function(e,n){var r,i,o;if(void 0===n&&(n={logLevel:si.INFO}),e===t){var s=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=s.stack)&&void 0!==r?r:s.message),!1}"number"==typeof n&&(n={logLevel:n});var a=ii("diag"),c=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<si.NONE?e=si.NONE:e>si.ALL&&(e=si.ALL),t=t||{},{error:n("error",si.ERROR),warn:n("warn",si.WARN),info:n("info",si.INFO),debug:n("debug",si.DEBUG),verbose:n("verbose",si.VERBOSE)}}(null!==(i=n.logLevel)&&void 0!==i?i:si.INFO,e);if(a&&!n.suppressOverrideMessage){var l=null!==(o=(new Error).stack)&&void 0!==o?o:"<failed to generate stacktrace>";a.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return ri("diag",c,t,!0)},t.disable=function(){oi("diag",t)},t.createComponentLogger=function(e){return new li(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),mi="context",fi=new ci,hi=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return ri(mi,e,di.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e,t,n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return ii(mi)||fi},e.prototype.disable=function(){this._getContextManager().disable(),oi(mi,di.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(pi||(pi={}));var yi="0000000000000000",gi="00000000000000000000000000000000",bi={traceId:gi,spanId:yi,traceFlags:pi.NONE},vi=function(){function e(e){void 0===e&&(e=bi),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),Si=("OpenTelemetry Context Key SPAN",Symbol.for("OpenTelemetry Context Key SPAN"));function Oi(e){return e.getValue(Si)||void 0}function wi(){return Oi(hi.getInstance().active())}function Pi(e,t){return e.setValue(Si,t)}function Ei(e){return e.deleteValue(Si)}function Ti(e,t){return Pi(e,new vi(t))}function Ai(e){var t;return null===(t=Oi(e))||void 0===t?void 0:t.spanContext()}var Ni=/^([0-9a-f]{32})$/i,xi=/^[0-9a-f]{16}$/i;function Ci(e){return n=e.traceId,Ni.test(n)&&n!==gi&&(t=e.spanId,xi.test(t)&&t!==yi);var t,n}function Ri(e){return new vi(e)}var ji,_i=hi.getInstance(),zi=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=_i.active()),Boolean(null==t?void 0:t.root))return new vi;var r,i=n&&Ai(n);return"object"==typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&Ci(i)?new vi(i):new vi},e.prototype.startActiveSpan=function(e,t,n,r){var i,o,s;if(!(arguments.length<2)){2===arguments.length?s=t:3===arguments.length?(i=t,s=n):(i=t,o=n,s=r);var a=null!=o?o:_i.active(),c=this.startSpan(e,i,a),l=Pi(a,c);return _i.with(l,s,void 0,c)}},e}(),ki=new zi,qi=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):ki},e}(),Ii=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new zi},e}()),Mi=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new qi(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:Ii},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}(),Di="trace",Li=function(){function e(){this._proxyTracerProvider=new Mi,this.wrapSpanContext=Ri,this.isSpanContextValid=Ci,this.deleteSpan=Ei,this.getSpan=Oi,this.getActiveSpan=wi,this.getSpanContext=Ai,this.setSpan=Pi,this.setSpanContext=Ti}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=ri(Di,this._proxyTracerProvider,di.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return ii(Di)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){oi(Di,di.instance()),this._proxyTracerProvider=new Mi},e}().getInstance(),Ui=hi.getInstance();function Fi(e,t){return Li.setSpan(e,t)}!function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(ji||(ji={}));const Bi=Ui;var $i;!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}($i||($i={}));const Hi=(Vi={packagePrefix:"Azure.CognitiveServices.TextAnalytics",namespace:"Microsoft.CognitiveServices"},function(e,t){const n=function(){const e=Gr();return e.tracer?e.tracer:(Kr||(Kr=new Vr),Kr)}(),r=(null==t?void 0:t.tracingOptions)||{},i=Object.assign({kind:ji.INTERNAL},r.spanOptions),o=Vi.packagePrefix?`${Vi.packagePrefix}.${e}`:e,s=n.startSpan(o,i,r.tracingContext);Vi.namespace&&s.setAttribute("az.namespace",Vi.namespace);let a=r.spanOptions||{};s.isRecording()&&Vi.namespace&&(a=Object.assign(Object.assign({},r.spanOptions),{attributes:Object.assign(Object.assign({},i.attributes),{"az.namespace":Vi.namespace})}));const c=Object.assign(Object.assign({},r),{spanOptions:a,tracingContext:Fi(r.tracingContext||Bi.active(),s)});return{span:s,updatedOptions:Object.assign(Object.assign({},t),{tracingOptions:c})}});var Vi,Wi;class Ji extends Error{constructor(e){super(e),this.name="PollerStoppedError",Object.setPrototypeOf(this,Ji.prototype)}}class Ki extends Error{constructor(e){super(e),this.name="PollerCancelledError",Object.setPrototypeOf(this,Ki.prototype)}}class Gi{constructor(e){this.resolveOnUnsuccessful=!1,this.stopped=!0,this.pollProgressCallbacks=[],this.operation=e,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),this.promise.catch((()=>{}))}async startPolling(e={}){for(this.stopped&&(this.stopped=!1);!this.isStopped()&&!this.isDone();)await this.poll(e),await this.delay()}async pollOnce(e={}){this.isDone()||(this.operation=await this.operation.update({abortSignal:e.abortSignal,fireProgress:this.fireProgress.bind(this)})),this.processUpdatedState()}fireProgress(e){for(const t of this.pollProgressCallbacks)t(e)}async cancelOnce(e={}){this.operation=await this.operation.cancel(e)}poll(e={}){if(!this.pollOncePromise){this.pollOncePromise=this.pollOnce(e);const t=()=>{this.pollOncePromise=void 0};this.pollOncePromise.then(t,t).catch(this.reject)}return this.pollOncePromise}processUpdatedState(){if(this.operation.state.error&&(this.stopped=!0,!this.resolveOnUnsuccessful))throw this.reject(this.operation.state.error),this.operation.state.error;if(this.operation.state.isCancelled&&(this.stopped=!0,!this.resolveOnUnsuccessful)){const e=new Ki("Operation was canceled");throw this.reject(e),e}this.isDone()&&this.resolve&&this.resolve(this.getResult())}async pollUntilDone(e={}){return this.stopped&&this.startPolling(e).catch(this.reject),this.processUpdatedState(),this.promise}onProgress(e){return this.pollProgressCallbacks.push(e),()=>{this.pollProgressCallbacks=this.pollProgressCallbacks.filter((t=>t!==e))}}isDone(){const e=this.operation.state;return Boolean(e.isCompleted||e.isCancelled||e.error)}stopPolling(){this.stopped||(this.stopped=!0,this.reject&&this.reject(new Ji("This poller is already stopped")))}isStopped(){return this.stopped}cancelOperation(e={}){if(this.cancelPromise){if(e.abortSignal)throw new Error("A cancel request is currently pending")}else this.cancelPromise=this.cancelOnce(e);return this.cancelPromise}getOperationState(){return this.operation.state}getResult(){return this.operation.state.result}toString(){return this.operation.toString()}}class Xi extends Gi{constructor(){super(...arguments),this.updateIntervalInMs=2e3}async delay(){return Sr(this.updateIntervalInMs)}}class Yi{constructor(e){this.state=e}toString(){return JSON.stringify({state:this.state})}}function Qi(e){var t;const{category:n,confidenceScore:r,assertion:i,offset:o,text:s,links:a,subcategory:c,length:l,name:u}=e;return{category:n,confidenceScore:r,assertion:i,offset:o,length:l,text:s,normalizedText:u,subCategory:c,dataSources:null!==(t=null==a?void 0:a.map((({dataSource:e,id:t})=>({name:e,entityId:t}))))&&void 0!==t?t:[]}}function Zi(e,t){return t.map((t=>({relationType:t.relationType,roles:t.entities.map((t=>({entity:e[ur(t.ref)],name:t.role})))})))}function eo(e){const{id:t,entities:n,relations:r,warnings:i,statistics:o}=e,s=n.map(Qi);return Object.assign(Object.assign({},Pr(t,i,o)),{entities:s,entityRelations:Zi(s,r)})}function to(e,t){return Er(e,t)}function no(e){return{createdOn:e.createdDateTime,lastModifiedOn:e.lastUpdateDateTime,expiresOn:e.expirationDateTime,status:e.status}}class ro extends Yi{constructor(e,t,n,r={}){super(e),this.state=e,this.client=t,this.documents=n,this.options=r}listHealthcareEntitiesByPage(e,t={}){const n=this._listHealthcareEntities(e,t);return{next:()=>n.next(),[Symbol.asyncIterator](){return this},byPage:n=>{const r=Object.assign(Object.assign({},t),{top:null==n?void 0:n.maxPageSize});return this._listHealthcareEntitiesPaged(e,r)}}}_listHealthcareEntities(e,t){return a(this,arguments,(function*(){var n,r;try{for(var i,o=l(this._listHealthcareEntitiesPaged(e,t));!(i=yield s(o.next())).done;){const e=i.value;yield s(yield*c(l(e)))}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&(yield s(r.call(o)))}finally{if(n)throw n.error}}}))}_listHealthcareEntitiesPaged(e,t){return a(this,arguments,(function*(){let n=yield s(this._listHealthcareEntitiesSinglePage(e,t));for(yield yield s(n.result);n.skip;){const r=Object.assign(Object.assign({},t),{top:n.top,skip:n.skip});n=yield s(this._listHealthcareEntitiesSinglePage(e,r)),yield yield s(n.result)}}))}async _listHealthcareEntitiesSinglePage(e,t){const{span:n,updatedOptions:r}=Hi("TextAnalyticsClient-_listHealthcareEntitiesSinglePage",t||{});try{const t=await this.client.healthStatus(e,r);if(t.results){const e=Tr(this.documents,t.results,eo,to);return t.nextLink?Object.assign({result:e},gr(t.nextLink)):{result:e}}throw new Error("Healthcare action has succeeded but the there are no results!")}catch(e){throw n.setStatus({code:$i.ERROR,message:e.message}),e}finally{n.end()}}async getHealthStatus(e,t){var n;const{span:r,updatedOptions:i}=Hi("TextAnalyticsClient-getHealthStatus",t||{});try{const t=await this.client.healthStatus(e,i);switch(t.status){case"notStarted":case"running":break;case"failed":{const e=`Healthcare analysis failed. Error(s): ${(null===(n=t.errors)||void 0===n?void 0:n.map((e=>`  code ${e.code}, message: '${e.message}'`)).join("\n"))||""}`;throw new Error(e)}default:if(t.results)return{done:!0,statistics:t.results.statistics,modelVersion:t.results.modelVersion,operationMetdata:no(t)};throw new Error("Healthcare action has finished but the there are no results!")}return{done:!1,operationMetdata:no(t)}}catch(e){throw r.setStatus({code:$i.ERROR,message:e.message}),e}finally{r.end()}}async beginAnalyzeHealthcare(e,t){const{span:n,updatedOptions:r}=Hi("TextAnalyticsClient-beginAnalyzeHealthcare",function(e){return Object.assign(Object.assign({},e),{stringIndexType:e.stringIndexType||pr})}(t||{}));try{return await this.client.health({documents:e},r)}catch(e){const t=vr(e);throw n.setStatus({code:$i.ERROR,message:t.message}),t}finally{n.end()}}async update(e={}){const t=this.state,n=e.abortSignal;if(!t.isStarted){t.isStarted=!0;const r=await this.beginAnalyzeHealthcare(this.documents,{requestOptions:this.options.requestOptions,tracingOptions:this.options.tracingOptions,abortSignal:n||e.abortSignal,modelVersion:this.options.modelVersion,stringIndexType:this.options.stringIndexType,loggingOptOut:this.options.disableServiceLogs});if(!r.operationLocation)throw new Error("Expects a valid 'operationLocation' to retrieve health results but did not find any");t.operationId=br(r.operationLocation)}const r=await this.getHealthStatus(t.operationId,{abortSignal:n||e.abortSignal,includeStatistics:this.options.includeStatistics,tracingOptions:this.options.tracingOptions,onResponse:this.options.onResponse,serializerOptions:this.options.serializerOptions});if(t.createdOn=r.operationMetdata.createdOn,t.expiresOn=r.operationMetdata.expiresOn,t.lastModifiedOn=r.operationMetdata.lastModifiedOn,t.status=r.operationMetdata.status,!t.isCompleted&&r.done){const e=this.listHealthcareEntitiesByPage(t.operationId,{abortSignal:this.options.abortSignal,tracingOptions:this.options.tracingOptions});t.result=Object.assign(e,{statistics:r.statistics,modelVersion:r.modelVersion}),t.isCompleted=!0}return"function"==typeof e.fireProgress&&e.fireProgress(t),this}async cancel(){const e=this.state;return e.operationId&&await this.client.cancelHealthJob(e.operationId,{abortSignal:this.options.abortSignal,tracingOptions:this.options.tracingOptions}),e.isCancelled=!0,this}}class io extends Xi{constructor(e){const{client:t,documents:n,options:r,updateIntervalInMs:i=5e3,resumeFrom:o}=e;let s;o&&(s=JSON.parse(o).state),super(new ro(s||{},t,n,r)),this.updateIntervalInMs=i}delay(){return Sr(this.updateIntervalInMs)}}function oo(e){switch(e){case"entityRecognitionTasks":return"RecognizeCategorizedEntities";case"entityRecognitionPiiTasks":return"RecognizePiiEntities";case"keyPhraseExtractionTasks":return"ExtractKeyPhrases";case"entityLinkingTasks":return"RecognizeLinkedEntities";case"sentimentAnalysisTasks":return"AnalyzeSentiment";default:throw new Error(`unexpected action type from the service: ${e}`)}}function so(e){if(e.target){const t=new RegExp(/#\/tasks\/(entityRecognitionTasks|entityRecognitionPiiTasks|keyPhraseExtractionTasks|entityLinkingTasks|sentimentAnalysisTasks)\/(\d+)/).exec(e.target);if(null!==t)return{code:e.code,message:e.message,index:parseInt(t[2]),type:oo(t[1])};throw new Error(`Pointer "${e.target}" is not a valid action pointer`)}throw new Error("expected an error with a target field referencing an action but did not get one")}function ao(e,t){return{error:wr(e),failedOn:t}}function co(e,t,n,r){let i=0;return n.reduce((function(n,o){const{results:s,lastUpdateDateTime:a}=o;if(void 0!==s){const r=t(e,s);return[...n,{results:r,completedOn:a}]}return[...n,ao(r[i++],a)]}),[])}function lo(e){return{createdOn:e.createdDateTime,lastModifiedOn:e.lastUpdateDateTime,expiresOn:e.expirationDateTime,status:e.status,actionsSucceededCount:e.tasks.completed,actionsFailedCount:e.tasks.failed,actionsInProgressCount:e.tasks.inProgress,displayName:e.displayName}}class uo extends Yi{constructor(e,t,n,r,i={}){super(e),this.state=e,this.client=t,this.documents=n,this.actions=r,this.options=i}listAnalyzeActionsResults(e,t={}){const n=this._listAnalyzeActionsResultsPaged(e,t);return{next:()=>n.next(),[Symbol.asyncIterator](){return this},byPage:n=>{const r=Object.assign(Object.assign({},t),{top:null==n?void 0:n.maxPageSize});return this._listAnalyzeActionsResultsPaged(e,r)}}}_listAnalyzeActionsResultsPaged(e,t){return a(this,arguments,(function*(){let n=yield s(this._listAnalyzeActionsResultsSinglePage(e,t));for(yield yield s(n.result);n.skip;){const r=Object.assign(Object.assign({},t),{top:n.top,skip:n.skip});n=yield s(this._listAnalyzeActionsResultsSinglePage(e,r)),yield yield s(n.result)}}))}async _listAnalyzeActionsResultsSinglePage(e,t){const{span:n,updatedOptions:r}=Hi("TextAnalyticsClient-_listAnalyzeActionsResultsSinglePage",t||{});try{const t=await this.client.analyzeStatus(e,r),n=function(e,t){var n,r,i,o,s,a;const c=[],l=[],u=[],p=[],d=[];return function(e,t,n,r,i,o){for(const s of e){const e=so(s);switch(e.type){case"RecognizeCategorizedEntities":t.push(e);break;case"RecognizePiiEntities":n.push(e);break;case"ExtractKeyPhrases":r.push(e);break;case"RecognizeLinkedEntities":i.push(e);break;case"AnalyzeSentiment":o.push(e)}}}(null!==(n=null==e?void 0:e.errors)&&void 0!==n?n:[],c,l,u,p,d),{recognizeEntitiesResults:co(t,jr,null!==(r=e.tasks.entityRecognitionTasks)&&void 0!==r?r:[],c),recognizePiiEntitiesResults:co(t,Ur,null!==(i=e.tasks.entityRecognitionPiiTasks)&&void 0!==i?i:[],l),extractKeyPhrasesResults:co(t,Mr,null!==(o=e.tasks.keyPhraseExtractionTasks)&&void 0!==o?o:[],u),recognizeLinkedEntitiesResults:co(t,$r,null!==(s=e.tasks.entityLinkingTasks)&&void 0!==s?s:[],p),analyzeSentimentResults:co(t,kr,null!==(a=e.tasks.sentimentAnalysisTasks)&&void 0!==a?a:[],d)}}(t,this.documents);return t.nextLink?Object.assign({result:n},gr(t.nextLink)):{result:n}}catch(e){throw n.setStatus({code:$i.ERROR,message:e.message}),e}finally{n.end()}}async getAnalyzeActionsOperationStatus(e,t){const{span:n,updatedOptions:r}=Hi("TextAnalyticsClient-getAnalyzeActionsOperationStatus",t||{});try{const t=await this.client.analyzeStatus(e,r);switch(t.status){case"notStarted":case"running":break;default:return{done:!0,statistics:t.statistics,operationMetdata:lo(t)}}return{done:!1,operationMetdata:lo(t)}}catch(e){throw n.setStatus({code:$i.ERROR,message:e.message}),e}finally{n.end()}}async beginAnalyzeActions(e,t,n){const{span:r,updatedOptions:i}=Hi("TextAnalyticsClient-beginAnalyze",n||{});try{return await this.client.analyze(Object.assign({body:{analysisInput:{documents:e},tasks:t,displayName:null==n?void 0:n.displayName}},i))}catch(e){const t=vr(e);throw r.setStatus({code:$i.ERROR,message:t.message}),t}finally{r.end()}}async update(e={}){var t;const n=this.state,r=e.abortSignal;if(!n.isStarted){n.isStarted=!0;const e=await this.beginAnalyzeActions(this.documents,this.actions,{displayName:this.options.displayName,tracingOptions:this.options.tracingOptions,requestOptions:this.options.requestOptions,abortSignal:r||this.options.abortSignal});if(!e.operationLocation)throw new Error("Expects a valid 'operationLocation' to retrieve analyze results but did not find any");n.operationId=br(e.operationLocation)}const i=await this.getAnalyzeActionsOperationStatus(n.operationId,{abortSignal:r||e.abortSignal,includeStatistics:this.options.includeStatistics,tracingOptions:this.options.tracingOptions});if(n.createdOn=i.operationMetdata.createdOn,n.expiresOn=i.operationMetdata.expiresOn,n.lastModifiedOn=i.operationMetdata.lastModifiedOn,n.status=i.operationMetdata.status,n.actionsSucceededCount=i.operationMetdata.actionsSucceededCount,n.actionsFailedCount=i.operationMetdata.actionsFailedCount,n.actionsInProgressCount=i.operationMetdata.actionsInProgressCount,n.displayName=null===(t=i.operationMetdata)||void 0===t?void 0:t.displayName,!n.isCompleted&&i.done){const e=this.listAnalyzeActionsResults(n.operationId,{abortSignal:this.options.abortSignal,tracingOptions:this.options.tracingOptions,includeStatistics:this.options.includeStatistics,onResponse:this.options.onResponse,serializerOptions:this.options.serializerOptions});n.result=e,n.isCompleted=!0}return"function"==typeof e.fireProgress&&e.fireProgress(n),this}async cancel(){const e=this.state;return ar.warning("The service does not yet support cancellation for beginAnalyze."),e.isCancelled=!0,this}}class po extends Xi{constructor(e){const{client:t,documents:n,actions:r,options:i,updateIntervalInMs:o=5e3,resumeFrom:s}=e;let a;s&&(a=JSON.parse(s).state),super(new uo(a||{},t,n,r,i)),this.updateIntervalInMs=o}delay(){return Sr(this.updateIntervalInMs)}}!function(e){e.PROTECTED_HEALTH_INFORMATION="PHI"}(Wi||(Wi={}));class mo{constructor(e,t,n={}){this.endpointUrl=e;const{defaultCountryHint:r="us",defaultLanguage:i="en"}=n,s=o(n,["defaultCountryHint","defaultLanguage"]);this.defaultCountryHint=r,this.defaultLanguage=i;const a="azsdk-js-ai-textanalytics/5.1.0";s.userAgentOptions||(s.userAgentOptions={}),s.userAgentOptions.userAgentPrefix?s.userAgentOptions.userAgentPrefix=`${s.userAgentOptions.userAgentPrefix} ${a}`:s.userAgentOptions.userAgentPrefix=a;const c=Object.assign(Object.assign({},s),{loggingOptions:{logger:ar.info,additionalAllowedHeaderNames:["x-ms-correlation-request-id","x-ms-request-id"]}});this.client=new Kn(this.endpointUrl,c);const l=function(e){const t=e;return t&&"function"==typeof t.getToken&&(void 0===t.signRequest||t.getToken.length>0)}(t)?U({credential:t,scopes:"https://cognitiveservices.azure.com/.default"}):function(e){return{name:"textAnalyticsAzureKeyCredentialPolicy",sendRequest:(t,n)=>(t.headers.set("Ocp-Apim-Subscription-Key",e.key),n(t))}}(t);this.client.pipeline.addPolicy(l)}async detectLanguage(e,t,n){let r,i;if(!Array.isArray(e)||0===e.length)throw new Error("'documents' must be a non-empty array");var o,s;fo(e)?(o=e,"none"===(s=t||this.defaultCountryHint)&&(s=""),i=o.map(((e,t)=>({id:String(t),countryHint:s,text:e}))),r=n||{}):(i=e.map((e=>Object.assign(Object.assign({},e),{countryHint:"none"===e.countryHint?"":e.countryHint}))),r=t||{});const{span:a,updatedOptions:c}=Hi("TextAnalyticsClient-detectLanguages",{abortSignal:(l=r).abortSignal,includeStatistics:l.includeStatistics,modelVersion:l.modelVersion,requestOptions:l.requestOptions,tracingOptions:l.tracingOptions,onResponse:l.onResponse,serializerOptions:l.serializerOptions,loggingOptOut:l.disableServiceLogs});var l;try{return function(e,t){return Ar(e,t,Nr,xr)}(i,await this.client.languages({documents:i},c))}catch(e){throw a.setStatus({code:$i.ERROR,message:e.message}),e}finally{a.end()}}async recognizeEntities(e,t,n){let r,i;if(!Array.isArray(e)||0===e.length)throw new Error("'documents' must be a non-empty array");fo(e)?(i=ho(e,t||this.defaultLanguage),r=n||{}):(i=e,r=t||{});const{span:o,updatedOptions:s}=Hi("TextAnalyticsClient-recognizeEntities",{abortSignal:(a=r).abortSignal,includeStatistics:a.includeStatistics,modelVersion:a.modelVersion,requestOptions:a.requestOptions,stringIndexType:mr(a.stringIndexType),tracingOptions:a.tracingOptions,onResponse:a.onResponse,serializerOptions:a.serializerOptions,loggingOptOut:a.disableServiceLogs});var a;try{return jr(i,await this.client.entitiesRecognitionGeneral({documents:i},s))}catch(e){const t=vr(e);throw o.setStatus({code:$i.ERROR,message:t.message}),t}finally{o.end()}}async analyzeSentiment(e,t,n){let r,i;if(!Array.isArray(e)||0===e.length)throw new Error("'documents' must be a non-empty array");fo(e)?(i=ho(e,t||this.defaultLanguage),r=n||{}):(i=e,r=t||{});const{span:o,updatedOptions:s}=Hi("TextAnalyticsClient-analyzeSentiment",{abortSignal:(a=r).abortSignal,opinionMining:a.includeOpinionMining,includeStatistics:a.includeStatistics,modelVersion:a.modelVersion,requestOptions:a.requestOptions,stringIndexType:mr(a.stringIndexType),tracingOptions:a.tracingOptions,onResponse:a.onResponse,serializerOptions:a.serializerOptions,loggingOptOut:a.disableServiceLogs});var a;try{return kr(i,await this.client.sentiment({documents:i},s))}catch(e){throw o.setStatus({code:$i.ERROR,message:e.message}),e}finally{o.end()}}async extractKeyPhrases(e,t,n){let r,i;if(!Array.isArray(e)||0===e.length)throw new Error("'documents' must be a non-empty array");fo(e)?(i=ho(e,t||this.defaultLanguage),r=n||{}):(i=e,r=t||{});const{span:o,updatedOptions:s}=Hi("TextAnalyticsClient-extractKeyPhrases",{abortSignal:(a=r).abortSignal,includeStatistics:a.includeStatistics,modelVersion:a.modelVersion,requestOptions:a.requestOptions,tracingOptions:a.tracingOptions,onResponse:a.onResponse,serializerOptions:a.serializerOptions,loggingOptOut:a.disableServiceLogs});var a;try{return Mr(i,await this.client.keyPhrases({documents:i},s))}catch(e){throw o.setStatus({code:$i.ERROR,message:e.message}),e}finally{o.end()}}async recognizePiiEntities(e,t,n){let r,i;fo(e)?(i=ho(e,t||this.defaultLanguage),r=n||{}):(i=e,r=t||{});const{span:o,updatedOptions:s}=Hi("TextAnalyticsClient-recognizePiiEntities",{abortSignal:(a=r).abortSignal,domain:a.domainFilter,includeStatistics:a.includeStatistics,modelVersion:a.modelVersion,requestOptions:a.requestOptions,stringIndexType:mr(a.stringIndexType),tracingOptions:a.tracingOptions,piiCategories:a.categoriesFilter,onResponse:a.onResponse,serializerOptions:a.serializerOptions,loggingOptOut:a.disableServiceLogs});var a;try{return Ur(i,await this.client.entitiesRecognitionPii({documents:i},s))}catch(e){throw o.setStatus({code:$i.ERROR,message:e.message}),e}finally{o.end()}}async recognizeLinkedEntities(e,t,n){let r,i;if(!Array.isArray(e)||0===e.length)throw new Error("'documents' must be a non-empty array");fo(e)?(i=ho(e,t||this.defaultLanguage),r=n||{}):(i=e,r=t||{});const{span:o,updatedOptions:s}=Hi("TextAnalyticsClient-recognizeLinkedEntities",{abortSignal:(a=r).abortSignal,includeStatistics:a.includeStatistics,modelVersion:a.modelVersion,requestOptions:a.requestOptions,tracingOptions:a.tracingOptions,onResponse:a.onResponse,serializerOptions:a.serializerOptions,loggingOptOut:a.disableServiceLogs,stringIndexType:mr(a.stringIndexType)});var a;try{return $r(i,await this.client.entitiesLinking({documents:i},s))}catch(e){throw o.setStatus({code:$i.ERROR,message:e.message}),e}finally{o.end()}}async beginAnalyzeHealthcareEntities(e,t,n){let r,i;fo(e)?(i=ho(e,t||this.defaultLanguage),r=n||{}):(i=e,r=t||{});const{updateIntervalInMs:s,resumeFrom:a}=r,c=o(r,["updateIntervalInMs","resumeFrom"]),l=new io({client:this.client,documents:i,options:c,updateIntervalInMs:s,resumeFrom:a});return await l.poll(),l}async beginAnalyzeActions(e,t,n,r){let i,s;if(!Array.isArray(e)||0===e.length)throw new Error("'documents' must be a non-empty array");fo(e)?(s=ho(e,n||this.defaultLanguage),i=r||{}):(s=e,i=n||{}),function(e){function t(e,t){var n;if((null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0)>1)throw new Error(`beginAnalyzeActions: Currently, the service can accept up to one action only for ${t} actions.`)}t(e.analyzeSentimentActions,"analyzeSentiment"),t(e.extractKeyPhrasesActions,"extractKeyPhrases"),t(e.recognizeEntitiesActions,"recognizeEntities"),t(e.recognizeLinkedEntitiesActions,"recognizeLinkedEntities"),t(e.recognizePiiEntitiesActions,"recognizePiiEntities")}(t);const a=function(e){var t,n,r,i,o;return{entityRecognitionPiiTasks:null===(t=e.recognizePiiEntitiesActions)||void 0===t?void 0:t.map(Or(dr,Or(hr,yr))),entityRecognitionTasks:null===(n=e.recognizeEntitiesActions)||void 0===n?void 0:n.map(Or(dr,yr)),keyPhraseExtractionTasks:null===(r=e.extractKeyPhrasesActions)||void 0===r?void 0:r.map(yr),entityLinkingTasks:null===(i=e.recognizeLinkedEntitiesActions)||void 0===i?void 0:i.map(Or(dr,yr)),sentimentAnalysisTasks:null===(o=e.analyzeSentimentActions)||void 0===o?void 0:o.map(Or(dr,Or(fr,yr)))}}(t),{updateIntervalInMs:c,resumeFrom:l}=i,u=o(i,["updateIntervalInMs","resumeFrom"]),p=new po({client:this.client,documents:s,actions:a,options:u,resumeFrom:l,updateIntervalInMs:c});return await p.poll(),p}}function fo(e){return"string"==typeof e[0]}function ho(e,t){return e.map(((e,n)=>({id:String(n),language:t,text:e})))}},445:()=>{"use strict";void 0!==typeof Symbol&&Symbol.asyncIterator||(Symbol.asyncIterator=Symbol.for("Symbol.asyncIterator"))},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),i=n(6026),o=n(4372),s=n(5327),a=n(4097),c=n(4109),l=n(7985),u=n(5061),p=n(7874),d=n(5263);e.exports=function(e){return new Promise((function(t,n){var m,f=e.data,h=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(m),e.signal&&e.signal.removeEventListener("abort",m)}r.isFormData(f)&&delete h["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(v+":"+S)}var O=a(e.baseURL,e.url);function w(){if(b){var r="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),g()}),(function(e){n(e),g()}),o),b=null}}if(b.open(e.method.toUpperCase(),s(O,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(w)},b.onabort=function(){b&&(n(u("Request aborted",e,"ECONNABORTED",b)),b=null)},b.onerror=function(){n(u("Network Error",e,null,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||p;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},r.isStandardBrowserEnv()){var P=(e.withCredentials||l(O))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;P&&(h[e.xsrfHeaderName]=P)}"setRequestHeader"in b&&r.forEach(h,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(m=function(e){b&&(n(!e||e&&e.type?new d("canceled"):e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(m),e.signal&&(e.signal.aborted?m():e.signal.addEventListener("abort",m))),f||(f=null),b.send(f)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),i=n(1849),o=n(321),s=n(7185),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(5546));a.Axios=o,a.Cancel=n(5263),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(6268),e.exports=a,e.exports.default=a},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),i=n(5327),o=n(782),s=n(3572),a=n(7185),c=n(4875),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var p=[s,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(u),o=Promise.resolve(t);p.length;)o=o.then(p.shift(),p.shift());return o}for(var d=t;r.length;){var m=r.shift(),f=r.shift();try{d=m(d)}catch(e){f(e);break}}try{o=s(d)}catch(e){return Promise.reject(e)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},u.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},782:(e,t,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,n)=>{"use strict";var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},3572:(e,t,n)=>{"use strict";var r=n(4867),i=n(8527),o=n(6502),s=n(5546),a=n(5263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),i=n(5546);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5546:(e,t,n)=>{"use strict";var r=n(4867),i=n(6016),o=n(481),s=n(7874),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(5448)),l),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.26.1"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},4867:(e,t,n)=>{"use strict";var r=n(1849),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function p(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:p,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)p(arguments[r],n);return t},extend:function(e,t,n){return p(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},1924:(e,t,n)=>{"use strict";var r=n(210),i=n(5559),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},5559:(e,t,n)=>{"use strict";var r=n(8612),i=n(210),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var t=a(r,s,arguments);return c&&l&&c(t,"length").configurable&&l(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var p=function(){return a(r,o,arguments)};l?l(e.exports,"apply",{value:p}):e.exports.apply=p},8767:e=>{function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},4445:e=>{e.exports=s,s.default=s,s.stable=u,s.stableStringify=u;var t="[...]",n="[Circular]",r=[],i=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(e,t,n,s){var a;void 0===s&&(s=o()),c(e,"",0,[],void 0,0,s);try{a=0===i.length?JSON.stringify(e,t,n):JSON.stringify(e,d(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var l=r.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return a}function a(e,t,n,o){var s=Object.getOwnPropertyDescriptor(o,n);void 0!==s.get?s.configurable?(Object.defineProperty(o,n,{value:e}),r.push([o,n,t,s])):i.push([t,n,e]):(o[n]=e,r.push([o,n,t]))}function c(e,r,i,o,s,l,u){var p;if(l+=1,"object"==typeof e&&null!==e){for(p=0;p<o.length;p++)if(o[p]===e)return void a(n,e,r,s);if(void 0!==u.depthLimit&&l>u.depthLimit)return void a(t,e,r,s);if(void 0!==u.edgesLimit&&i+1>u.edgesLimit)return void a(t,e,r,s);if(o.push(e),Array.isArray(e))for(p=0;p<e.length;p++)c(e[p],p,p,o,e,l,u);else{var d=Object.keys(e);for(p=0;p<d.length;p++){var m=d[p];c(e[m],m,p,o,e,l,u)}}o.pop()}}function l(e,t){return e<t?-1:e>t?1:0}function u(e,t,n,s){void 0===s&&(s=o());var a,c=p(e,"",0,[],void 0,0,s)||e;try{a=0===i.length?JSON.stringify(c,t,n):JSON.stringify(c,d(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var l=r.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return a}function p(e,i,o,s,c,u,d){var m;if(u+=1,"object"==typeof e&&null!==e){for(m=0;m<s.length;m++)if(s[m]===e)return void a(n,e,i,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==d.depthLimit&&u>d.depthLimit)return void a(t,e,i,c);if(void 0!==d.edgesLimit&&o+1>d.edgesLimit)return void a(t,e,i,c);if(s.push(e),Array.isArray(e))for(m=0;m<e.length;m++)p(e[m],m,m,s,e,u,d);else{var f={},h=Object.keys(e).sort(l);for(m=0;m<h.length;m++){var y=h[m];p(e[y],y,m,s,e,u,d),f[y]=e[y]}if(void 0===c)return f;r.push([c,i,e]),c[i]=f}s.pop()}}function d(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(i.length>0)for(var r=0;r<i.length;r++){var o=i[r];if(o[1]===t&&o[0]===n){n=o[2],i.splice(r,1);break}}return e.call(this,t,n)}}},6230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},7648:e=>{"use strict";var t=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==n.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var i,o=t.call(arguments,1),s=Math.max(0,r.length-o.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var n=r.apply(this,o.concat(t.call(arguments)));return Object(n)===n?n:this}return r.apply(e,o.concat(t.call(arguments)))})),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}},8612:(e,t,n)=>{"use strict";var r=n(7648);e.exports=Function.prototype.bind||r},210:(e,t,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var l=function(){throw new s},u=c?function(){try{return l}catch(e){try{return c(arguments,"callee").get}catch(e){return l}}}():l,p=n(1405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},m={},f="undefined"==typeof Uint8Array?r:d(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":m,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};try{null.error}catch(e){var y=d(d(e));h["%Error.prototype%"]=y}var g=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=d(i.prototype))}return h[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(8612),S=n(7642),O=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),P=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),T=v.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,x=function(e,t){var n,r=e;if(S(b,r)&&(r="%"+(n=b[r])[0]+"%"),S(h,r)){var o=h[r];if(o===m&&(o=g(r)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===T(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return P(e,A,(function(e,t,n,i){r[r.length]=n?P(i,N,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=x("%"+r+"%",t),a=o.name,l=o.value,u=!1,p=o.alias;p&&(r=p[0],w(n,O([0,1],p)));for(var d=1,m=!0;d<n.length;d+=1){var f=n[d],y=E(f,0,1),g=E(f,-1);if(('"'===y||"'"===y||"`"===y||'"'===g||"'"===g||"`"===g)&&y!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==f&&m||(u=!0),S(h,a="%"+(r+="."+f)+"%"))l=h[a];else if(null!=l){if(!(f in l)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&d+1>=n.length){var b=c(l,f);l=(m=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:l[f]}else m=S(l,f),l=l[f];m&&!u&&(h[a]=l)}}return l}},1405:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5419);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7642:(e,t,n)=>{"use strict";var r=n(8612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},3139:(e,t,n)=>{e.exports=n(5908)},5908:(e,t,n)=>{var r=n(569),i=n(4365);function o(e,t){return this.api_key=e,t&&(i.base_url=t),this}e.exports=function(e,t){if(e)return new o(e,t);throw new Error("Bad api key")},o.prototype.requestToken=function(e){var t=this;return r.get(i.base_url+i.authentication.requestToken).query({api_key:t.api_key}).set("Accept","application/json").end((function(n,r){n?e(n):(t.token=r.body,e())})),this},o.prototype.session=function(e){var t=this;return r.get(i.base_url+i.authentication.session).query({api_key:t.api_key,request_token:t.token.request_token}).set("Accept","application/json").end((function(n,r){n?e(n):r.body.success?(t.session_id=r.body.session_id,e()):e(r.body)})),this},Object.keys(i.methods).forEach((function(e){var t=i.methods[e];Object.keys(t).forEach((function(n){o.prototype[e+n]=function(e,r){var i=this;return"function"==typeof e&&(r=e,e={}),!this.token||Date.now()>+new Date(this.token.expires_at)?this.requestToken((function(o){if(o)return r(o);s.call(i,t[n].method,e,t[n].resource,r)})):s.call(this,t[n].method,e,t[n].resource,r),this}}))}));var s=function(e,t,n,o){t=t||{},n=n.replace(":id",t.id).replace(":season_number",t.season_number).replace(":episode_number",t.episode_number),e=e.toUpperCase();var s=r(e,i.base_url+n).query({api_key:this.api_key,session_id:this.session_id}).set("Accept","application/json");if(t.ifNoneMatch)s=s.set("If-None-Match",t.ifNoneMatch);else if(t.ifModifiedSince){var a=t.ifModifiedSince;a.toUTCString&&(a=a.toUTCString()),s=s.set("If-Modified-Since",a)}"GET"===e?s.query(t):s.send(t),s.end((function(e,t){e?o(e,null,t):o(null,t.body,t)}))}},631:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=a&&c&&"function"==typeof c.get?c.get:null,u=a&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,h=Object.prototype.toString,y=Function.prototype.toString,g=String.prototype.match,b=String.prototype.slice,v=String.prototype.replace,S=String.prototype.toUpperCase,O=String.prototype.toLowerCase,w=RegExp.prototype.test,P=Array.prototype.concat,E=Array.prototype.join,T=Array.prototype.slice,A=Math.floor,N="function"==typeof BigInt?BigInt.prototype.valueOf:null,x=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,_=Object.prototype.propertyIsEnumerable,z=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function k(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-A(-e):A(e);if(r!==e){var i=String(r),o=b.call(t,i.length+1);return v.call(i,n,"$&_")+"."+v.call(v.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(t,n,"$&_")}var q=n(4654),I=q.custom,M=B(I)?I:null;function D(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function L(e){return v.call(String(e),/"/g,"&quot;")}function U(e){return!("[object Array]"!==V(e)||j&&"object"==typeof e&&j in e)}function F(e){return!("[object RegExp]"!==V(e)||j&&"object"==typeof e&&j in e)}function B(e){if(R)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,r,i){var a=n||{};if(H(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!H(a,"customInspect")||a.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var h=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return J(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return h?k(t,S):S}if("bigint"==typeof t){var w=String(t)+"n";return h?k(t,w):w}var A=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=A&&A>0&&"object"==typeof t)return U(t)?"[Array]":"[Object]";var x,I=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=E.call(Array(e.indent+1)," ")}return{base:n,prev:E.call(Array(t+1),n)}}(a,r);if(void 0===i)i=[];else if(W(i,t)>=0)return"[Circular]";function $(t,n,o){if(n&&(i=T.call(i)).push(n),o){var s={depth:a.depth};return H(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,r+1,i)}return e(t,a,r+1,i)}if("function"==typeof t&&!F(t)){var K=function(e){if(e.name)return e.name;var t=g.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ee=Z(t,$);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(ee.length>0?" { "+E.call(ee,", ")+" }":"")}if(B(t)){var te=R?v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(t);return"object"!=typeof t||R?te:G(te)}if((x=t)&&"object"==typeof x&&("undefined"!=typeof HTMLElement&&x instanceof HTMLElement||"string"==typeof x.nodeName&&"function"==typeof x.getAttribute)){for(var ne="<"+O.call(String(t.nodeName)),re=t.attributes||[],ie=0;ie<re.length;ie++)ne+=" "+re[ie].name+"="+D(L(re[ie].value),"double",a);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+"</"+O.call(String(t.nodeName))+">"}if(U(t)){if(0===t.length)return"[]";var oe=Z(t,$);return I&&!function(e){for(var t=0;t<e.length;t++)if(W(e[t],"\n")>=0)return!1;return!0}(oe)?"["+Q(oe,I)+"]":"[ "+E.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==V(e)||j&&"object"==typeof e&&j in e)}(t)){var se=Z(t,$);return"cause"in Error.prototype||!("cause"in t)||_.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(se,", ")+" }":"{ ["+String(t)+"] "+E.call(P.call("[cause]: "+$(t.cause),se),", ")+" }"}if("object"==typeof t&&c){if(M&&"function"==typeof t[M]&&q)return q(t,{depth:A-r});if("symbol"!==c&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{l.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return s&&s.call(t,(function(e,n){ae.push($(n,t,!0)+" => "+$(e,t))})),Y("Map",o.call(t),ae,I)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ce=[];return u&&u.call(t,(function(e){ce.push($(e,t))})),Y("Set",l.call(t),ce,I)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return X("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return X("WeakSet");if(function(e){if(!m||!e||"object"!=typeof e)return!1;try{return m.call(e),!0}catch(e){}return!1}(t))return X("WeakRef");if(function(e){return!("[object Number]"!==V(e)||j&&"object"==typeof e&&j in e)}(t))return G($(Number(t)));if(function(e){if(!e||"object"!=typeof e||!N)return!1;try{return N.call(e),!0}catch(e){}return!1}(t))return G($(N.call(t)));if(function(e){return!("[object Boolean]"!==V(e)||j&&"object"==typeof e&&j in e)}(t))return G(f.call(t));if(function(e){return!("[object String]"!==V(e)||j&&"object"==typeof e&&j in e)}(t))return G($(String(t)));if(!function(e){return!("[object Date]"!==V(e)||j&&"object"==typeof e&&j in e)}(t)&&!F(t)){var le=Z(t,$),ue=z?z(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",de=!ue&&j&&Object(t)===t&&j in t?b.call(V(t),8,-1):pe?"Object":"",me=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||pe?"["+E.call(P.call([],de||[],pe||[]),": ")+"] ":"");return 0===le.length?me+"{}":I?me+"{"+Q(le,I)+"}":me+"{ "+E.call(le,", ")+" }"}return String(t)};var $=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return $.call(e,t)}function V(e){return h.call(e)}function W(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function J(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return J(b.call(e,0,t.maxStringLength),t)+r}return D(v.call(v.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",t)}function K(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+S.call(t.toString(16))}function G(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function Y(e,t,n,r){return e+" ("+t+") {"+(r?Q(n,r):E.call(n,", "))+"}"}function Q(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+E.call(e,","+n)+"\n"+t.prev}function Z(e,t){var n=U(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=H(e,i)?t(e[i],e):""}var o,s="function"==typeof x?x(e):[];if(R){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in e)H(e,c)&&(n&&String(Number(c))===c&&c<e.length||R&&o["$"+c]instanceof Symbol||(w.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"==typeof x)for(var l=0;l<s.length;l++)_.call(e,s[l])&&r.push("["+t(s[l])+"]: "+t(e[s[l]],e));return r}},4793:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIApi=t.OpenAIApiFactory=t.OpenAIApiFp=t.OpenAIApiAxiosParamCreator=t.CreateImageRequestResponseFormatEnum=t.CreateImageRequestSizeEnum=t.ChatCompletionResponseMessageRoleEnum=t.ChatCompletionRequestMessageRoleEnum=void 0;const i=n(9669),o=n(3597),s=n(5198);t.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},t.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},t.OpenAIApiAxiosParamCreator=function(e){return{cancelFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("cancelFineTune","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"POST"},s),n);o.setSearchParams(i,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(i),options:a}})),createAnswer:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createAnswer","createAnswerRequest",t);const r=new URL("/answers",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createChatCompletion:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createChatCompletion","createChatCompletionRequest",t);const r=new URL("/chat/completions",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createClassification:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createClassification","createClassificationRequest",t);const r=new URL("/classifications",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createCompletion:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createCompletion","createCompletionRequest",t);const r=new URL("/completions",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createEdit:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createEdit","createEditRequest",t);const r=new URL("/edits",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createEmbedding:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createEmbedding","createEmbeddingRequest",t);const r=new URL("/embeddings",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createFile:(t,n,i={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createFile","file",t),o.assertParamExists("createFile","purpose",n);const r=new URL("/files",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"POST"},s),i),c={},l=new(e&&e.formDataCtor||FormData);void 0!==t&&l.append("file",t),void 0!==n&&l.append("purpose",n),c["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let u=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign(Object.assign({},c),l.getHeaders()),u),i.headers),a.data=l,{url:o.toPathString(r),options:a}})),createFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createFineTune","createFineTuneRequest",t);const r=new URL("/fine-tunes",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createImage:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createImage","createImageRequest",t);const r=new URL("/images/generations",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createImageEdit:(t,n,i,s,a,c,l,u={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createImageEdit","image",t),o.assertParamExists("createImageEdit","prompt",n);const r=new URL("/images/edits",o.DUMMY_BASE_URL);let p;e&&(p=e.baseOptions);const d=Object.assign(Object.assign({method:"POST"},p),u),m={},f=new(e&&e.formDataCtor||FormData);void 0!==t&&f.append("image",t),void 0!==i&&f.append("mask",i),void 0!==n&&f.append("prompt",n),void 0!==s&&f.append("n",s),void 0!==a&&f.append("size",a),void 0!==c&&f.append("response_format",c),void 0!==l&&f.append("user",l),m["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let h=p&&p.headers?p.headers:{};return d.headers=Object.assign(Object.assign(Object.assign(Object.assign({},m),f.getHeaders()),h),u.headers),d.data=f,{url:o.toPathString(r),options:d}})),createImageVariation:(t,n,i,s,a,c={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createImageVariation","image",t);const r=new URL("/images/variations",o.DUMMY_BASE_URL);let l;e&&(l=e.baseOptions);const u=Object.assign(Object.assign({method:"POST"},l),c),p={},d=new(e&&e.formDataCtor||FormData);void 0!==t&&d.append("image",t),void 0!==n&&d.append("n",n),void 0!==i&&d.append("size",i),void 0!==s&&d.append("response_format",s),void 0!==a&&d.append("user",a),p["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let m=l&&l.headers?l.headers:{};return u.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),d.getHeaders()),m),c.headers),u.data=d,{url:o.toPathString(r),options:u}})),createModeration:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createModeration","createModerationRequest",t);const r=new URL("/moderations",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},i),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=o.serializeDataIfNeeded(t,s,e),{url:o.toPathString(r),options:s}})),createSearch:(t,n,i={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createSearch","engineId",t),o.assertParamExists("createSearch","createSearchRequest",n);const r="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let a;e&&(a=e.baseOptions);const c=Object.assign(Object.assign({method:"POST"},a),i),l={"Content-Type":"application/json"};o.setSearchParams(s,{});let u=a&&a.headers?a.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},l),u),i.headers),c.data=o.serializeDataIfNeeded(n,c,e),{url:o.toPathString(s),options:c}})),createTranscription:(t,n,i,s,a,c,l={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createTranscription","file",t),o.assertParamExists("createTranscription","model",n);const r=new URL("/audio/transcriptions",o.DUMMY_BASE_URL);let u;e&&(u=e.baseOptions);const p=Object.assign(Object.assign({method:"POST"},u),l),d={},m=new(e&&e.formDataCtor||FormData);void 0!==t&&m.append("file",t),void 0!==n&&m.append("model",n),void 0!==i&&m.append("prompt",i),void 0!==s&&m.append("response_format",s),void 0!==a&&m.append("temperature",a),void 0!==c&&m.append("language",c),d["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let f=u&&u.headers?u.headers:{};return p.headers=Object.assign(Object.assign(Object.assign(Object.assign({},d),m.getHeaders()),f),l.headers),p.data=m,{url:o.toPathString(r),options:p}})),createTranslation:(t,n,i,s,a,c={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createTranslation","file",t),o.assertParamExists("createTranslation","model",n);const r=new URL("/audio/translations",o.DUMMY_BASE_URL);let l;e&&(l=e.baseOptions);const u=Object.assign(Object.assign({method:"POST"},l),c),p={},d=new(e&&e.formDataCtor||FormData);void 0!==t&&d.append("file",t),void 0!==n&&d.append("model",n),void 0!==i&&d.append("prompt",i),void 0!==s&&d.append("response_format",s),void 0!==a&&d.append("temperature",a),p["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let m=l&&l.headers?l.headers:{};return u.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),d.getHeaders()),m),c.headers),u.data=d,{url:o.toPathString(r),options:u}})),deleteFile:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("deleteFile","fileId",t);const r="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"DELETE"},s),n);o.setSearchParams(i,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(i),options:a}})),deleteModel:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("deleteModel","model",t);const r="/models/{model}".replace("{model}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"DELETE"},s),n);o.setSearchParams(i,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(i),options:a}})),downloadFile:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("downloadFile","fileId",t);const r="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);o.setSearchParams(i,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(i),options:a}})),listEngines:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/engines",o.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const i=Object.assign(Object.assign({method:"GET"},r),t);o.setSearchParams(n,{});let s=r&&r.headers?r.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:o.toPathString(n),options:i}})),listFiles:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/files",o.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const i=Object.assign(Object.assign({method:"GET"},r),t);o.setSearchParams(n,{});let s=r&&r.headers?r.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:o.toPathString(n),options:i}})),listFineTuneEvents:(t,n,i={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("listFineTuneEvents","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let a;e&&(a=e.baseOptions);const c=Object.assign(Object.assign({method:"GET"},a),i),l={};void 0!==n&&(l.stream=n),o.setSearchParams(s,l);let u=a&&a.headers?a.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},{}),u),i.headers),{url:o.toPathString(s),options:c}})),listFineTunes:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/fine-tunes",o.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const i=Object.assign(Object.assign({method:"GET"},r),t);o.setSearchParams(n,{});let s=r&&r.headers?r.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:o.toPathString(n),options:i}})),listModels:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/models",o.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const i=Object.assign(Object.assign({method:"GET"},r),t);o.setSearchParams(n,{});let s=r&&r.headers?r.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:o.toPathString(n),options:i}})),retrieveEngine:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("retrieveEngine","engineId",t);const r="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);o.setSearchParams(i,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(i),options:a}})),retrieveFile:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("retrieveFile","fileId",t);const r="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);o.setSearchParams(i,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(i),options:a}})),retrieveFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("retrieveFineTune","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);o.setSearchParams(i,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(i),options:a}})),retrieveModel:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("retrieveModel","model",t);const r="/models/{model}".replace("{model}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);o.setSearchParams(i,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(i),options:a}}))}},t.OpenAIApiFp=function(e){const n=t.OpenAIApiAxiosParamCreator(e);return{cancelFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.cancelFineTune(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createAnswer(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createAnswer(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createChatCompletion(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createChatCompletion(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createClassification(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createClassification(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createCompletion(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createCompletion(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createEdit(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createEdit(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createEmbedding(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createEmbedding(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createFile(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.createFile(t,a,c);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createFineTune(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createImage(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createImage(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createImageEdit(t,a,c,l,u,p,d,m){return r(this,void 0,void 0,(function*(){const r=yield n.createImageEdit(t,a,c,l,u,p,d,m);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createImageVariation(t,a,c,l,u,p){return r(this,void 0,void 0,(function*(){const r=yield n.createImageVariation(t,a,c,l,u,p);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createModeration(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createModeration(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createSearch(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.createSearch(t,a,c);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createTranscription(t,a,c,l,u,p,d){return r(this,void 0,void 0,(function*(){const r=yield n.createTranscription(t,a,c,l,u,p,d);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},createTranslation(t,a,c,l,u,p){return r(this,void 0,void 0,(function*(){const r=yield n.createTranslation(t,a,c,l,u,p);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},deleteFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.deleteFile(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},deleteModel(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.deleteModel(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},downloadFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.downloadFile(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},listEngines(t){return r(this,void 0,void 0,(function*(){const r=yield n.listEngines(t);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},listFiles(t){return r(this,void 0,void 0,(function*(){const r=yield n.listFiles(t);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},listFineTuneEvents(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.listFineTuneEvents(t,a,c);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},listFineTunes(t){return r(this,void 0,void 0,(function*(){const r=yield n.listFineTunes(t);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},listModels(t){return r(this,void 0,void 0,(function*(){const r=yield n.listModels(t);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},retrieveEngine(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveEngine(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},retrieveFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveFile(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},retrieveFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveFineTune(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))},retrieveModel(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveModel(t,a);return o.createRequestFunction(r,i.default,s.BASE_PATH,e)}))}}},t.OpenAIApiFactory=function(e,n,r){const i=t.OpenAIApiFp(e);return{cancelFineTune:(e,t)=>i.cancelFineTune(e,t).then((e=>e(r,n))),createAnswer:(e,t)=>i.createAnswer(e,t).then((e=>e(r,n))),createChatCompletion:(e,t)=>i.createChatCompletion(e,t).then((e=>e(r,n))),createClassification:(e,t)=>i.createClassification(e,t).then((e=>e(r,n))),createCompletion:(e,t)=>i.createCompletion(e,t).then((e=>e(r,n))),createEdit:(e,t)=>i.createEdit(e,t).then((e=>e(r,n))),createEmbedding:(e,t)=>i.createEmbedding(e,t).then((e=>e(r,n))),createFile:(e,t,o)=>i.createFile(e,t,o).then((e=>e(r,n))),createFineTune:(e,t)=>i.createFineTune(e,t).then((e=>e(r,n))),createImage:(e,t)=>i.createImage(e,t).then((e=>e(r,n))),createImageEdit:(e,t,o,s,a,c,l,u)=>i.createImageEdit(e,t,o,s,a,c,l,u).then((e=>e(r,n))),createImageVariation:(e,t,o,s,a,c)=>i.createImageVariation(e,t,o,s,a,c).then((e=>e(r,n))),createModeration:(e,t)=>i.createModeration(e,t).then((e=>e(r,n))),createSearch:(e,t,o)=>i.createSearch(e,t,o).then((e=>e(r,n))),createTranscription:(e,t,o,s,a,c,l)=>i.createTranscription(e,t,o,s,a,c,l).then((e=>e(r,n))),createTranslation:(e,t,o,s,a,c)=>i.createTranslation(e,t,o,s,a,c).then((e=>e(r,n))),deleteFile:(e,t)=>i.deleteFile(e,t).then((e=>e(r,n))),deleteModel:(e,t)=>i.deleteModel(e,t).then((e=>e(r,n))),downloadFile:(e,t)=>i.downloadFile(e,t).then((e=>e(r,n))),listEngines:e=>i.listEngines(e).then((e=>e(r,n))),listFiles:e=>i.listFiles(e).then((e=>e(r,n))),listFineTuneEvents:(e,t,o)=>i.listFineTuneEvents(e,t,o).then((e=>e(r,n))),listFineTunes:e=>i.listFineTunes(e).then((e=>e(r,n))),listModels:e=>i.listModels(e).then((e=>e(r,n))),retrieveEngine:(e,t)=>i.retrieveEngine(e,t).then((e=>e(r,n))),retrieveFile:(e,t)=>i.retrieveFile(e,t).then((e=>e(r,n))),retrieveFineTune:(e,t)=>i.retrieveFineTune(e,t).then((e=>e(r,n))),retrieveModel:(e,t)=>i.retrieveModel(e,t).then((e=>e(r,n)))}};class a extends s.BaseAPI{cancelFineTune(e,n){return t.OpenAIApiFp(this.configuration).cancelFineTune(e,n).then((e=>e(this.axios,this.basePath)))}createAnswer(e,n){return t.OpenAIApiFp(this.configuration).createAnswer(e,n).then((e=>e(this.axios,this.basePath)))}createChatCompletion(e,n){return t.OpenAIApiFp(this.configuration).createChatCompletion(e,n).then((e=>e(this.axios,this.basePath)))}createClassification(e,n){return t.OpenAIApiFp(this.configuration).createClassification(e,n).then((e=>e(this.axios,this.basePath)))}createCompletion(e,n){return t.OpenAIApiFp(this.configuration).createCompletion(e,n).then((e=>e(this.axios,this.basePath)))}createEdit(e,n){return t.OpenAIApiFp(this.configuration).createEdit(e,n).then((e=>e(this.axios,this.basePath)))}createEmbedding(e,n){return t.OpenAIApiFp(this.configuration).createEmbedding(e,n).then((e=>e(this.axios,this.basePath)))}createFile(e,n,r){return t.OpenAIApiFp(this.configuration).createFile(e,n,r).then((e=>e(this.axios,this.basePath)))}createFineTune(e,n){return t.OpenAIApiFp(this.configuration).createFineTune(e,n).then((e=>e(this.axios,this.basePath)))}createImage(e,n){return t.OpenAIApiFp(this.configuration).createImage(e,n).then((e=>e(this.axios,this.basePath)))}createImageEdit(e,n,r,i,o,s,a,c){return t.OpenAIApiFp(this.configuration).createImageEdit(e,n,r,i,o,s,a,c).then((e=>e(this.axios,this.basePath)))}createImageVariation(e,n,r,i,o,s){return t.OpenAIApiFp(this.configuration).createImageVariation(e,n,r,i,o,s).then((e=>e(this.axios,this.basePath)))}createModeration(e,n){return t.OpenAIApiFp(this.configuration).createModeration(e,n).then((e=>e(this.axios,this.basePath)))}createSearch(e,n,r){return t.OpenAIApiFp(this.configuration).createSearch(e,n,r).then((e=>e(this.axios,this.basePath)))}createTranscription(e,n,r,i,o,s,a){return t.OpenAIApiFp(this.configuration).createTranscription(e,n,r,i,o,s,a).then((e=>e(this.axios,this.basePath)))}createTranslation(e,n,r,i,o,s){return t.OpenAIApiFp(this.configuration).createTranslation(e,n,r,i,o,s).then((e=>e(this.axios,this.basePath)))}deleteFile(e,n){return t.OpenAIApiFp(this.configuration).deleteFile(e,n).then((e=>e(this.axios,this.basePath)))}deleteModel(e,n){return t.OpenAIApiFp(this.configuration).deleteModel(e,n).then((e=>e(this.axios,this.basePath)))}downloadFile(e,n){return t.OpenAIApiFp(this.configuration).downloadFile(e,n).then((e=>e(this.axios,this.basePath)))}listEngines(e){return t.OpenAIApiFp(this.configuration).listEngines(e).then((e=>e(this.axios,this.basePath)))}listFiles(e){return t.OpenAIApiFp(this.configuration).listFiles(e).then((e=>e(this.axios,this.basePath)))}listFineTuneEvents(e,n,r){return t.OpenAIApiFp(this.configuration).listFineTuneEvents(e,n,r).then((e=>e(this.axios,this.basePath)))}listFineTunes(e){return t.OpenAIApiFp(this.configuration).listFineTunes(e).then((e=>e(this.axios,this.basePath)))}listModels(e){return t.OpenAIApiFp(this.configuration).listModels(e).then((e=>e(this.axios,this.basePath)))}retrieveEngine(e,n){return t.OpenAIApiFp(this.configuration).retrieveEngine(e,n).then((e=>e(this.axios,this.basePath)))}retrieveFile(e,n){return t.OpenAIApiFp(this.configuration).retrieveFile(e,n).then((e=>e(this.axios,this.basePath)))}retrieveFineTune(e,n){return t.OpenAIApiFp(this.configuration).retrieveFineTune(e,n).then((e=>e(this.axios,this.basePath)))}retrieveModel(e,n){return t.OpenAIApiFp(this.configuration).retrieveModel(e,n).then((e=>e(this.axios,this.basePath)))}}t.OpenAIApi=a},5198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=t.BaseAPI=t.COLLECTION_FORMATS=t.BASE_PATH=void 0;const r=n(9669);t.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"},t.BaseAPI=class{constructor(e,n=t.BASE_PATH,i=r.default){this.basePath=n,this.axios=i,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}};class i extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}t.RequiredError=i},3597:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestFunction=t.toPathString=t.serializeDataIfNeeded=t.setSearchParams=t.setOAuthToObject=t.setBearerAuthToObject=t.setBasicAuthToObject=t.setApiKeyToObject=t.assertParamExists=t.DUMMY_BASE_URL=void 0;const i=n(5198);function o(e,t,n=""){null!=t&&("object"==typeof t?Array.isArray(t)?t.forEach((t=>o(e,t,n))):Object.keys(t).forEach((r=>o(e,t[r],`${n}${""!==n?".":""}${r}`))):e.has(n)?e.append(n,t):e.set(n,t))}t.DUMMY_BASE_URL="https://example.com",t.assertParamExists=function(e,t,n){if(null==n)throw new i.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},t.setApiKeyToObject=function(e,t,n){return r(this,void 0,void 0,(function*(){if(n&&n.apiKey){const r="function"==typeof n.apiKey?yield n.apiKey(t):yield n.apiKey;e[t]=r}}))},t.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})},t.setBearerAuthToObject=function(e,t){return r(this,void 0,void 0,(function*(){if(t&&t.accessToken){const n="function"==typeof t.accessToken?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+n}}))},t.setOAuthToObject=function(e,t,n,i){return r(this,void 0,void 0,(function*(){if(i&&i.accessToken){const r="function"==typeof i.accessToken?yield i.accessToken(t,n):yield i.accessToken;e.Authorization="Bearer "+r}}))},t.setSearchParams=function(e,...t){const n=new URLSearchParams(e.search);o(n,t),e.search=n.toString()},t.serializeDataIfNeeded=function(e,t,n){const r="string"!=typeof e;return(r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r)?JSON.stringify(void 0!==e?e:{}):e||""},t.toPathString=function(e){return e.pathname+e.search+e.hash},t.createRequestFunction=function(e,t,n,r){return(i=t,o=n)=>{const s=Object.assign(Object.assign({},e.options),{url:((null==r?void 0:r.basePath)||o)+e.url});return i.request(s)}}},6577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;const r=n(2811);t.Configuration=class{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${r.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=n(6230))}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}},6485:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4793),t),i(n(6577),t)},5798:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},129:(e,t,n)=>{"use strict";var r=n(8261),i=n(5235),o=n(5798);e.exports={formats:o,parse:i,stringify:r}},5235:(e,t,n)=>{"use strict";var r=n(2769),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),l=a?o.slice(0,a.index):o,u=[];if(l){if(!n.plainObjects&&i.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var p=0;n.depth>0&&null!==(a=s.exec(o))&&p<n.depth;){if(p+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+o.slice(a.index)+"]"),function(e,t,n,r){for(var i=r?t:c(t,n),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(l,10);n.parseArrays||""!==l?!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i}(u,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,l={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,p),m=-1,f=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?f="utf-8":"utf8=%26%2310003%3B"===d[n]&&(f="iso-8859-1"),m=n,n=d.length);for(n=0;n<d.length;++n)if(n!==m){var h,y,g=d[n],b=g.indexOf("]="),v=-1===b?g.indexOf("="):b+1;-1===v?(h=t.decoder(g,s.decoder,f,"key"),y=t.strictNullHandling?null:""):(h=t.decoder(g.slice(0,v),s.decoder,f,"key"),y=r.maybeMap(c(g.slice(v+1),t),(function(e){return t.decoder(e,s.decoder,f,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===f&&(y=a(y)),g.indexOf("[]=")>-1&&(y=o(y)?[y]:y),i.call(l,h)?l[h]=r.combine(l[h],y):l[h]=y}return l}(e,n):e,p=n.plainObjects?Object.create(null):{},d=Object.keys(u),m=0;m<d.length;++m){var f=d[m],h=l(f,u[f],n,"string"==typeof e);p=r.merge(p,h,n)}return!0===n.allowSparse?p:r.compact(p)}},8261:(e,t,n)=>{"use strict";var r=n(7478),i=n(2769),o=n(5798),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,l=Array.prototype.push,u=function(e,t){l.apply(e,c(t)?t:[t])},p=Date.prototype.toISOString,d=o.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},f={},h=function e(t,n,o,s,a,l,p,d,h,y,g,b,v,S,O,w){for(var P,E=t,T=w,A=0,N=!1;void 0!==(T=T.get(f))&&!N;){var x=T.get(t);if(A+=1,void 0!==x){if(x===A)throw new RangeError("Cyclic object value");N=!0}void 0===T.get(f)&&(A=0)}if("function"==typeof d?E=d(n,E):E instanceof Date?E=g(E):"comma"===o&&c(E)&&(E=i.maybeMap(E,(function(e){return e instanceof Date?g(e):e}))),null===E){if(a)return p&&!S?p(n,m.encoder,O,"key",b):n;E=""}if("string"==typeof(P=E)||"number"==typeof P||"boolean"==typeof P||"symbol"==typeof P||"bigint"==typeof P||i.isBuffer(E))return p?[v(S?n:p(n,m.encoder,O,"key",b))+"="+v(p(E,m.encoder,O,"value",b))]:[v(n)+"="+v(String(E))];var C,R=[];if(void 0===E)return R;if("comma"===o&&c(E))S&&p&&(E=i.maybeMap(E,p)),C=[{value:E.length>0?E.join(",")||null:void 0}];else if(c(d))C=d;else{var j=Object.keys(E);C=h?j.sort(h):j}for(var _=s&&c(E)&&1===E.length?n+"[]":n,z=0;z<C.length;++z){var k=C[z],q="object"==typeof k&&void 0!==k.value?k.value:E[k];if(!l||null!==q){var I=c(E)?"function"==typeof o?o(_,k):_:_+(y?"."+k:"["+k+"]");w.set(t,A);var M=r();M.set(f,w),u(R,e(q,I,o,s,a,l,"comma"===o&&S&&c(E)?null:p,d,h,y,g,b,v,S,O,M))}}return R};e.exports=function(e,t){var n,i=e,l=function(e){if(!e)return m;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||m.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=m.filter;return("function"==typeof e.filter||c(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:m.addQueryPrefix,allowDots:void 0===e.allowDots?m.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:m.charsetSentinel,delimiter:void 0===e.delimiter?m.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:m.encode,encoder:"function"==typeof e.encoder?e.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:m.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:m.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:m.strictNullHandling}}(t);"function"==typeof l.filter?i=(0,l.filter)("",i):c(l.filter)&&(n=l.filter);var p,d=[];if("object"!=typeof i||null===i)return"";p=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=a[p];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y="comma"===f&&t&&t.commaRoundTrip;n||(n=Object.keys(i)),l.sort&&n.sort(l.sort);for(var g=r(),b=0;b<n.length;++b){var v=n[b];l.skipNulls&&null===i[v]||u(d,h(i[v],v,f,y,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,g))}var S=d.join(l.delimiter),O=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),S.length>0?O+S:""}},2769:(e,t,n)=>{"use strict";var r=n(5798),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],s=i.obj[i.prop],a=Object.keys(s),c=0;c<a.length;++c){var l=a[c],u=s[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:s,prop:l}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",l=0;l<a.length;++l){var u=a.charCodeAt(l);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===r.RFC1738&&(40===u||41===u)?c+=a.charAt(l):u<128?c+=s[u]:u<2048?c+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?c+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(l+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(l)),c+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return o(t)&&!o(n)&&(s=a(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var s=t[o];s&&"object"==typeof s&&n&&"object"==typeof n?t[o]=e(s,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var s=n[o];return i.call(t,o)?t[o]=e(t[o],s,r):t[o]=s,t}),s)}}},7478:(e,t,n)=>{"use strict";var r=n(210),i=n(1924),o=n(631),s=r("%TypeError%"),a=r("%WeakMap%",!0),c=r("%Map%",!0),l=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),m=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),h=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+o(e))},get:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(e)return l(e,r)}else if(c){if(t)return d(t,r)}else if(n)return function(e,t){var n=h(e,t);return n&&n.value}(n,r)},has:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(e)return p(e,r)}else if(c){if(t)return f(t,r)}else if(n)return function(e,t){return!!h(e,t)}(n,r);return!1},set:function(r,i){a&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new a),u(e,r,i)):c?(t||(t=new c),m(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=h(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},7903:e=>{"use strict";function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(){this._defaults=[]}for(var i=function(){var e=s[o];r.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._defaults.push({fn:e,args:n}),this}},o=0,s=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];o<s.length;o++)i();r.prototype._setDefaults=function(e){var r,i,o=function(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=t(e))){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}(this._defaults);try{for(o.s();!(r=o.n()).done;){var s=r.value;e[s.fn].apply(e,function(e){if(Array.isArray(e))return n(e)}(i=s.args)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||t(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}catch(e){o.e(e)}finally{o.f()}},e.exports=r},569:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o;"undefined"!=typeof window?o=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),o=void 0):o=self;var s=n(8767),a=n(4445),c=n(129),l=n(8899),u=n(4506),p=u.isObject,d=u.mixin,m=u.hasOwn,f=n(1097),h=n(7903);function y(){}e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)};var g=t=e.exports;t.Request=E,g.getXHR=function(){if(o.XMLHttpRequest&&(!o.location||"file:"!==o.location.protocol||!o.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("Browser-only version of superagent could not find XHR")};var b="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function v(e){if(!p(e))return e;var t=[];for(var n in e)m(e,n)&&S(t,n,e[n]);return t.join("&")}function S(e,t,n){if(void 0!==n)if(null!==n)if(Array.isArray(n)){var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw s}}}}(n);try{for(o.s();!(r=o.n()).done;)S(e,t,r.value)}catch(e){o.e(e)}finally{o.f()}}else if(p(n))for(var s in n)m(n,s)&&S(e,"".concat(t,"[").concat(s,"]"),n[s]);else e.push(encodeURI(t)+"="+encodeURIComponent(n));else e.push(encodeURI(t))}function O(e){for(var t,n,r={},i=e.split("&"),o=0,s=i.length;o<s;++o)-1===(n=(t=i[o]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function w(e){return/[/+]json($|[^-\w])/i.test(e)}function P(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){for(var t,n,r,i,o=e.split(/\r?\n/),s={},a=0,c=o.length;a<c;++a)-1!==(t=(n=o[a]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=b(n.slice(t+1)),s[r]=i);return s}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function E(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,r=null;try{r=new P(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}g.serializeObject=v,g.parseString=O,g.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":c.stringify,"application/json":a},g.parse={"application/x-www-form-urlencoded":O,"application/json":JSON.parse},d(P.prototype,f.prototype),P.prototype._parseBody=function(e){var t=g.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&w(this.type)&&(t=g.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},P.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot ".concat(t," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},g.Response=P,s(E.prototype),d(E.prototype,l.prototype),E.prototype.type=function(e){return this.set("Content-Type",g.types[e]||e),this},E.prototype.accept=function(e){return this.set("Accept",g.types[e]||e),this},E.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"===r(t)&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var i=n.encoder?n.encoder:function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,i)},E.prototype.query=function(e){return"string"!=typeof e&&(e=v(e)),e&&this._query.push(e),this},E.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},E.prototype._getFormData=function(){return this._formData||(this._formData=new o.FormData),this._formData},E.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},E.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},E.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},E.prototype.ca=E.prototype.agent,E.prototype.buffer=E.prototype.ca,E.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},E.prototype.pipe=E.prototype.write,E.prototype._isHost=function(e){return e&&"object"===r(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},E.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||y,this._finalizeQueryString(),this._end()},E.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},E.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=g.getXHR();var t=this.xhr,n=this._formData||this._data;this._setTimeouts(),t.addEventListener("readystatechange",(function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}}));var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",r.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",r.bind(null,"upload"))}catch(e){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||g.serialize[i?i.split(";")[0]:""];!o&&w(i)&&(o=g.serialize["application/json"]),o&&(n=o(n))}for(var s in this.header)null!==this.header[s]&&m(this.header,s)&&t.setRequestHeader(s,this.header[s]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===n?null:n)},g.agent=function(){return new h};for(var T=function(){var e=N[A];h.prototype[e.toLowerCase()]=function(t,n){var r=new g.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}},A=0,N=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];A<N.length;A++)T();function x(e,t,n){var r=g("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}h.prototype.del=h.prototype.delete,g.get=function(e,t,n){var r=g("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},g.head=function(e,t,n){var r=g("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},g.options=function(e,t,n){var r=g("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.del=x,g.delete=x,g.patch=function(e,t,n){var r=g("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.post=function(e,t,n){var r=g("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.put=function(e,t,n){var r=g("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},8899:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(3695),o=n(4506),s=o.isObject,a=o.hasOwn;function c(){}e.exports=c,c.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},c.prototype.parse=function(e){return this._parser=e,this},c.prototype.responseType=function(e){return this._responseType=e,this},c.prototype.serialize=function(e){return this._serializer=e,this},c.prototype.timeout=function(e){if(!e||"object"!==r(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(a(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},c.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var l=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),u=new Set([408,413,429,500,502,503,504,521,522,524]);c.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&u.has(t.status))return!0;if(e){if(e.code&&l.has(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},c.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},c.prototype.then=function(e,t){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){r.on("abort",(function(){if(!(n._maxRetries&&n._maxRetries>n._retries))if(n.timedout&&n.timedoutError)t(n.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=n.status,e.method=n.method,e.url=n.url,t(e)}})),r.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},c.prototype.catch=function(e){return this.then(void 0,e)},c.prototype.use=function(e){return e(this),this},c.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},c.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},c.prototype.get=function(e){return this._header[e.toLowerCase()]},c.prototype.getHeader=c.prototype.get,c.prototype.set=function(e,t){if(s(e)){for(var n in e)a(e,n)&&this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},c.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},c.prototype.field=function(e,t,n){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(s(e)){for(var r in e)a(e,r)&&this.field(r,e[r]);return this}if(Array.isArray(t)){for(var i in t)a(t,i)&&this.field(e,t[i]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),n?this._getFormData().append(e,t,n):this._getFormData().append(e,t),this},c.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(i.gte(process.version,"v13.0.0")&&i.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");i.gte(process.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},c.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},c.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},c.prototype.redirects=function(e){return this._maxRedirects=e,this},c.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},c.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},c.prototype.send=function(e){var t=s(e),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&s(this._data))for(var r in e)a(e,r)&&(this._data[r]=e[r]);else"string"==typeof e?(n||this.type("form"),(n=this._header["content-type"])&&(n=n.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},c.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},c.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.slice(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,t)+"?"+n.join("&")}}},c.prototype._appendQueryString=function(){console.warn("Unsupported")},c.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error("".concat(e+t,"ms exceeded"));r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},c.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},1097:(e,t,n)=>{"use strict";var r=n(4506);function i(){}e.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(this[i]=n[i]);this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},i.prototype._setStatusProperties=function(e){var t=Math.trunc(e/100);this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e}},4506:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){var t,n={},i=r(e.split(/ *; */));try{for(i.s();!(t=i.n()).done;){var o=t.value.split(/ *= */),s=o.shift(),a=o.shift();s&&a&&(n[s]=a)}}catch(e){i.e(e)}finally{i.f()}return n},t.parseLinks=function(e){var t,n={},i=r(e.split(/ *, */));try{for(i.s();!(t=i.n()).done;){var o=t.value.split(/ *; */),s=o[0].slice(1,-1);n[o[1].split(/ *= */)[1].slice(1,-1)]=s}}catch(e){i.e(e)}finally{i.f()}return n},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e},t.isObject=function(e){return null!==e&&"object"===n(e)},t.hasOwn=Object.hasOwn||function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(e),t)},t.mixin=function(e,n){for(var r in n)t.hasOwn(n,r)&&(e[r]=n[r])}},4654:()=>{},3695:()=>{},4365:e=>{"use strict";e.exports=JSON.parse('{"base_url":"https://api.themoviedb.org/3/","authentication":{"requestToken":"authentication/token/new","session":"authentication/session/new"},"methods":{"configuration":{"":{"resource":"configuration","method":"get"}},"find":{"":{"resource":"find/:id","method":"get"}},"search":{"Movie":{"resource":"search/movie","method":"get"},"Tv":{"resource":"search/tv","method":"get"},"Multi":{"resource":"search/multi","method":"get"},"Collection":{"resource":"search/collection","method":"get"},"Person":{"resource":"search/person","method":"get"},"List":{"resource":"search/list","method":"get"},"Company":{"resource":"search/company","method":"get"},"Keyword":{"resource":"search/keyword","method":"get"}},"collection":{"Info":{"resource":"collection/:id","method":"get"},"Images":{"resource":"collection/:id/images","method":"get"}},"discover":{"Movie":{"resource":"discover/movie","method":"get"},"Tv":{"resource":"discover/tv","method":"get"}},"movie":{"Info":{"resource":"movie/:id","method":"get"},"AlternativeTitles":{"resource":"movie/:id/alternative_titles","method":"get"},"Credits":{"resource":"movie/:id/credits","method":"get"},"Images":{"resource":"movie/:id/images","method":"get"},"Videos":{"resource":"movie/:id/videos","method":"get"},"Keywords":{"resource":"movie/:id/keywords","method":"get"},"Releases":{"resource":"movie/:id/releases","method":"get"},"ReleaseDates":{"resource":"movie/:id/release_dates","method":"get"},"Trailers":{"resource":"movie/:id/trailers","method":"get"},"Translations":{"resource":"movie/:id/translations","method":"get"},"Similar":{"resource":"movie/:id/similar_movies","method":"get"},"Recommended":{"resource":"movie/:id/recommendations","method":"get"},"Reviews":{"resource":"movie/:id/reviews","method":"get"},"Lists":{"resource":"movie/:id/lists","method":"get"},"Changes":{"resource":"movie/:id/changes","method":"get"},"RatingUpdate":{"resource":"movie/:id/rating","method":"post"}},"tv":{"Info":{"resource":"tv/:id","method":"get"},"Credits":{"resource":"tv/:id/credits","method":"get"},"ExternalIds":{"resource":"tv/:id/external_ids","method":"get"},"Images":{"resource":"tv/:id/images","method":"get"},"Videos":{"resource":"tv/:id/videos","method":"get"},"Keywords":{"resource":"tv/:id/keywords","method":"get"},"Similar":{"resource":"tv/:id/similar","method":"get"},"Translations":{"resource":"tv/:id/translations","method":"get"},"SeasonInfo":{"resource":"tv/:id/season/:season_number","method":"get"},"SeasonCredits":{"resource":"tv/:id/season/:season_number/credits","method":"get"},"SeasonVideos":{"resource":"tv/:id/season/:season_number/videos","method":"get"},"SeasonExternalIds":{"resource":"tv/:id/season/:season_number/external_ids","method":"get"},"SeasonImages":{"resource":"tv/:id/season/:season_number/images","method":"get"},"EpisodeInfo":{"resource":"tv/:id/season/:season_number/episode/:episode_number","method":"get"},"EpisodeCredits":{"resource":"tv/:id/season/:season_number/episode/:episode_number/credits","method":"get"},"EpisodeExternalIds":{"resource":"tv/:id/season/:season_number/episode/:episode_number/external_ids","method":"get"},"EpisodeImages":{"resource":"tv/:id/season/:season_number/episode/:episode_number/images","method":"get"},"OnTheAir":{"resource":"tv/on_the_air","method":"get"},"AiringToday":{"resource":"tv/airing_today","method":"get"},"Recommend":{"resource":"tv/:id/recommendations","method":"get"},"Changes":{"resource":"tv/:id/changes","method":"get"}},"person":{"Info":{"resource":"person/:id","method":"get"},"MovieCredits":{"resource":"person/:id/movie_credits","method":"get"},"TvCredits":{"resource":"person/:id/tv_credits","method":"get"},"CombinedCredits":{"resource":"person/:id/combined_credits","method":"get"},"Images":{"resource":"person/:id/images","method":"get"},"TaggedImages":{"resource":"person/:id/tagged_images","method":"get"},"Changes":{"resource":"person/:id/changes","method":"get"},"Latest":{"resource":"person/latest","method":"get"},"Popular":{"resource":"person/popular","method":"get"},"ExternalIds":{"resource":"person/:id/external_ids","method":"get"}},"credit":{"Info":{"resource":"credit/:id","method":"get"}},"list":{"Info":{"resource":"list/:id","method":"get"}},"genre":{"MovieList":{"resource":"genre/movie/list","method":"get"},"TvList":{"resource":"genre/tv/list","method":"get"},"Movies":{"resource":"genre/:id/movies","method":"get"}},"keyword":{"Info":{"resource":"keyword/:id","method":"get"},"Movies":{"resource":"keyword/:id/movies","method":"get"}},"company":{"Info":{"resource":"company/:id","method":"get"},"Movies":{"resource":"company/:id/movies","method":"get"}},"account":{"Info":{"resource":"account","method":"get"},"Lists":{"resource":"account/:id/lists","method":"get"},"FavoriteMovies":{"resource":"account/:id/favorite_movies","method":"get"},"FavoriteUpdate":{"resource":"account/:id/favorite","method":"post"},"RatedMovies":{"resource":"account/:id/rated_movies","method":"get"},"MovieWatchlist":{"resource":"account/:id/watchlist/movies","method":"get"},"TvWatchlist":{"resource":"account/:id/watchlist/tv","method":"get"},"WatchlistUpdate":{"resource":"account/:id/watchlist","method":"post"}},"misc":{"LatestMovies":{"resource":"movie/latest","method":"get"},"UpcomingMovies":{"resource":"movie/upcoming","method":"get"},"NowPlayingMovies":{"resource":"movie/now_playing","method":"get"},"PopularMovies":{"resource":"movie/popular","method":"get"},"TopRatedMovies":{"resource":"movie/top_rated","method":"get"},"ChangedMovies":{"resource":"movie/changes","method":"get"},"ChangedTvs":{"resource":"tv/changes","method":"get"},"ChangedPeople":{"resource":"person/changes","method":"get"},"TopRatedTvs":{"resource":"tv/top_rated","method":"get"},"PopularTvs":{"resource":"tv/popular","method":"get"}}}}')},2811:e=>{"use strict";e.exports=JSON.parse('{"_from":"openai","_id":"openai@3.2.1","_inBundle":false,"_integrity":"sha512-762C9BNlJPbjjlWZi4WYK9iM2tAVAv0uUp1UmI34vb0CN5T2mjB/qM6RYBmNKMh/dN9fC+bxqPwWJZUTWW052A==","_location":"/openai","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"openai","name":"openai","escapedName":"openai","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/openai/-/openai-3.2.1.tgz","_shasum":"1fa35bdf979cbde8453b43f2dd3a7d401ee40866","_spec":"openai","_where":"/Applications/XAMPP/xamppfiles/htdocs/me/resources","author":{"name":"OpenAI"},"bugs":{"url":"https://github.com/openai/openai-node/issues"},"bundleDependencies":false,"dependencies":{"axios":"^0.26.0","form-data":"^4.0.0"},"deprecated":false,"description":"Node.js library for the OpenAI API","devDependencies":{"@types/node":"^12.11.5","typescript":"^3.6.4"},"homepage":"https://github.com/openai/openai-node#readme","keywords":["openai","open","ai","gpt-3","gpt3"],"license":"MIT","main":"./dist/index.js","name":"openai","repository":{"type":"git","url":"git+ssh://git@github.com/openai/openai-node.git"},"scripts":{"build":"tsc --outDir dist/"},"types":"./dist/index.d.ts","version":"3.2.1"}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const{TextAnalyticsClient:e,AzureKeyCredential:t}=n(1803),r=new e("https://text-analitycs.cognitiveservices.azure.com/",new t("41cdaf748d334024b49bb337a1f75436"));async function i(e){return new Promise(((t,n)=>{r.analyzeSentiment(e).then((e=>{t(e[0].sentiment)})).catch((e=>n(e)))}))}document.querySelector("#send-text").addEventListener("click",(async e=>{var t=document.querySelector("#text")?.value;if(t){var r=[t];const e=await i(r);if(e){const t=await async function(e){return new Promise((async(t,r)=>{const o=[],s=await async function(){return new Promise(((e,t)=>{n(3139)("2361b6c133856991064a91d1b1304ad1").searchMovie({query:"matar, asesino"},(async(t,n)=>{const r=n.results;e(r)}))}))}();console.log(s,"moviesList");for(let t=0;t<s.length;t++){const n=s[t];console.log(n,"element");const r=s[t].overview;console.log(s[t]),await i([r])==e&&o.push(s[t].original_title)}console.log("peliculasRecomendadas",o),t(o)}))}(e);console.log("recommendMovies",t),document.querySelector("#sentiment-type").innerHTML=e.toUpperCase();const r=document.querySelector("#recommend-movies");r.innerHTML="",t.forEach((e=>{r.insertAdjacentHTML("beforeend","<li>"+e+"</li>")}))}}}));const o={family:"en familia",girlfriend:"con mi novia"};document.querySelectorAll('input[name="occasion"]').forEach((e=>{e.addEventListener("click",(async e=>{console.log("Generando respuesta...");const t="Recomiendame 5 peliculas para ver "+o[e.srcElement.value]+" en las plataformas de streaming con el nombre de la pelicula y la plataforma";console.log(t,e.srcElement.value);const r=await async function(e){console.log("Obteniendo respuesta...");const{Configuration:t,OpenAIApi:r}=n(6485),i=new r(new t({organization:"org-HU4v4GhKsGylwgFUxOayt1dS",apiKey:"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"})),o=await i.listEngines(),s=await i.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"user",content:e}]});console.log(o,"listEngines"),console.log("Full response openai",s.data,typeof s.data.choices[0].message.content);const a=function(e){return e.split("\n")}(s.data.choices[0].message.content);return console.log(a,"Listado peliculas"),a}(t);console.log("movies OPENAI",r);const i=document.querySelector("#recommend-movies");i.innerHTML="",r.forEach((e=>{"string"==typeof e&&""!=e&&i.insertAdjacentHTML("beforeend","<li>"+e+"</li>")}))}))}))})()})();